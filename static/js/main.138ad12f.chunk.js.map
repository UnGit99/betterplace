{"version":3,"sources":["components/nav/google.svg","config/firebase.js","services/firebase.js","components/loading/translator-list.js","components/loading/season-list.js","components/loading/player.js","components/loading/fullscreen.js","components/loading/main-list.js","services/theMovieDB.js","components/context/auth.js","components/nav/nav-auth.js","components/notifications/google.js","components/nav/nav.js","components/nav/index.js","components/context/favourite.js","services/localStorage.js","components/main/main-list.js","components/main/main-continue__list.js","components/main/main-continue.js","components/main/main-top.js","components/main/main-recommend.js","components/main/index.js","components/main/main.js","components/favourite/index.js","components/favourite/favourite.js","components/watchlist/index.js","components/watchlist/watchlist.js","services/rezka.js","components/player/index.js","components/player/film-player.js","components/error-boundary/index.js","components/resources/main-res.js","components/popup/popup.js","components/search/search.js","components/search/index.js","components/app/index.js","index.js"],"names":["module","exports","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","firebase","db","provider","GoogleAuthProvider","GetAllFavoutiresTest","uid","a","collection","doc","get","then","data","docs","map","promise","GetTvTimeTest","orderBy","GetMovieTimeTest","wrapPromise","result","status","suspender","res","err","read","GetWatchlistTest","TranslatorListLoading","className","SeasonListLoading","PlayerLoading","FullScreen","MainListLoading","title","titleStyle","width","height","style","_apiKey","_baseUrl","_ruLang","findTrendTV","fetch","json","results","_transfromMulti","slice","item","id","toString","name","type","media_type","poster","poster_path","backdrop","backdrop_path","backdropOriginal","description","overview","releaseDate","release_date","originalName","original_name","original_title","_noActor","object","filter","el","undefined","known_for_department","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","authIsReady","setAuthIsReady","continueData","setContinueData","useEffect","auth","onAuthStateChanged","user","fetchOne","fetchTwo","fetchThree","movieService","Promise","all","Provider","value","continueS","LoggedIn","props","useContext","firstName","displayName","split","Fragment","icon","photoURL","NavItem","open","setOpen","active","setActive","onClick","alt","src","NavItemDropdown","signOut","NavAuth","googleLogo","signInWithPopup","GoogleNotification","notification","setNotification","faBell","ShorterLink","to","exact","reverse","autoReverse","activeClassName","Nav","faHome","faSearch","faHeart","faEye","FavouriteContext","FavouriteProvider","fav","setFav","watch","setWatch","unmounted","addLatest","latest","localStorage","getItem","itemData","ll","JSON","stringify","Set","join","setItem","CardDominant","hover","setHover","dominantColor","setDominantColor","toggleHover","fac","FastAverageColor","img","Image","crossOrigin","getColorAsync","ignoredColor","color","rgba","destroy","hoverStyle","boxShadow","borderRadius","onMouseEnter","onMouseLeave","localService","FavouriteIcon","delFavourite","x","addFavourite","concat","find","delete","DeleteFavourite","reHeart","set","date","Timestamp","now","SetFavourite","WatchIcon","watchExist","delWatch","addWatch","faEyeSlash","DeleteWatch","SetWatch","MainList","resource","length","key","Item","gradientWidth","parseInt","time","endTime","pathname","state","InfoTV","season","episode","ContinueList","seeAllText","setSeeAllText","reosurceRemain","text__seeAll","faLongArrowAltRight","TV","context","Movie","MainContinue","CardMini","handleClick","clickedStyle","divStyle","MainTop","clicked","setClicked","MainRecommend","popular","localData","parse","fallback","Main","Favourite","Watchlist","cheerio","require","_getProxy","_cdnSeries","Video","url","receiveMessage","event","duration","window","addEventListener","loop","setInterval","resid","translator","SetTvTime","removeEventListener","clearInterval","allowFullScreen","allowtransparency","Player","video","method","headers","body","getVideo","movie","FilmPlayer","console","log","SetMovieTime","ErrorBoundary","hasError","error","info","this","Component","Search","translators","query","encodeURIComponent","contents","regex","newData","match","substr","$","load","push","replace","each","index","element","attr","text","findTranslators","Translators","setTranslator","episodes","CHRepisodes","CHRseasons","seasons","lenghtOfSeasonsAndCounter","i","e","getSeasonsSeries","movieData","handleTranslator","ListOfTranslators","handleActive","ListOfEpisodes","activeSeason","setActiveSeason","activeEpisode","setActiveEpisode","setVideo","DropdownButton","drop","eSecond","Dropdown","handleVideo","MainView","selected","search","ContinueDataTest","mediaType","ifContinue","tv","Popup","Resources","setRes","Switcher","PopupMain","location","GetContinueTV","GetContinueMovie","SearchList","input","searchMulti","MainSearchForm","handle","autoFocus","placeholder","onChange","withRouter","definput","history","setInput","target","App","path","component","render","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.138ad12f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/google.09aea0f5.svg\";","const config = {\n    apiKey: \"AIzaSyCqmz-NyGg2BH34Y2vBwxU0v46M2qsBguY\",\n    authDomain: \"betterplace-74705.firebaseapp.com\",\n    databaseURL: \"https://betterplace-74705.firebaseio.com\",\n    projectId: \"betterplace-74705\",\n    storageBucket: \"betterplace-74705.appspot.com\",\n    messagingSenderId: \"1019430392067\",\n    appId: \"1:1019430392067:web:e07b8ba6ac55da364bd936\",\n    measurementId: \"G-04PYDHKL22\"\n};\n\nexport default config;","import * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\nimport config from '../config/firebase';\n//import {useState,useMemo,useEffect,useCallback} from 'react';\n\nconst app = firebase.initializeApp(config);\nconst db = firebase.firestore();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\n/*const useRequest = (request) =>{\n    const initialState = useMemo(()=>({\n        data: null,\n        loading: true,\n        error: null\n    }),[]);\n\n    const [ dataState , setDataState ] = useState(initialState);\n\n    useEffect(()=>{\n        setDataState(initialState);\n        let cancelled = false;\n        request()\n            .then(data=>!cancelled && setDataState({\n                data,\n                loading:false,\n                error:null\n            }))\n            .catch(error=>!cancelled && setDataState({\n                data: null,\n                loading: false,\n                error\n            }));\n        return () => cancelled = true;\n    },[request, initialState]);\n\n    return dataState;\n};*/\n\nconst GoogleSignUp = () => {\n    firebase.auth().signInWithPopup(provider);\n};\nconst SignOut = () => {\n    app.auth().signOut();\n};\n\nconst GetAllFavoutiresTest = async (uid) =>{\n    const promise = await db.collection('continueData').doc(uid).collection('favourite').get()\n        .then(data =>\n            data.docs.map(doc => doc.data())\n        );\n    return promise;\n}\n\nconst DeleteFavourite = (uid,item) =>{\n    const { id } = item;\n    return db.collection('continueData').doc(uid).collection('favourite').doc(id).delete()\n};\n\nconst SetFavourite = (uid,item) =>{\n    const { id,type,name,poster } = item;\n    // const userId = firebase.auth().currentUser.uid;\n    return db.collection('continueData').doc(uid).collection('favourite').doc(id).set({\n        id,\n        type,\n        name,\n        poster,\n        date: firebase.firestore.Timestamp.now()\n    });\n};\n\nconst SetMovieTime = (uid,type,id,resid,time,translator,resource,name,poster,endTime) =>{\n    // const userId = firebase.auth().currentUser.uid;\n    return db.collection('continueData').doc(uid).collection(type).doc(id).set({\n        id,\n        resid,\n        type,\n        translator,\n        time,\n        resource,\n        date: firebase.firestore.Timestamp.now(),\n        name,\n        poster,\n        endTime\n    });\n};\n\nconst SetTvTime = (uid,type,id,resid,season,episode,time,translator,resource,name,poster,endTime) =>{\n    // const userId = firebase.auth().currentUser.uid;\n    return db.collection('continueData').doc(uid).collection(type).doc(id).set({\n        id,\n        resid,\n        type,\n        translator,\n        season,\n        episode,\n        time,\n        resource,\n        date: firebase.firestore.Timestamp.now(),\n        name,\n        poster,\n        endTime\n    });\n};\n\nconst Favourite = (uid,id,handleFavourite) =>{\n    const data = db.collection('continueData').doc(uid).collection('favourite').doc(id).get()\n    .then(data => {\n        data.data();\n        if(data.data() !== undefined){\n            handleFavourite();\n        };\n        })\n    return data;\n};\n\nconst GetContinueTV = (uid,id) =>{\n    const promise = db.collection('continueData').doc(uid).collection('tv').doc(id).get()\n        .then(data => {\n            if(data.data()){\n                return data.data()\n            }else{\n                return null;\n            }})\n    return wrapPromise(promise);\n}\n\nconst GetContinueMovie = (uid,id) =>{\n    const promise = db.collection('continueData').doc(uid).collection('movie').doc(id).get()\n        .then(data => {\n            if(data.data()){\n                return data.data()\n            }else{\n                return null;\n            }})\n    return wrapPromise(promise);\n}\n\nconst GetTvTimeTest = async (uid) =>{\n    const promise = await db.collection('continueData').doc(uid).collection('tv').orderBy(\"date\", \"desc\")\n    .get().then(data =>\n        data.docs.map(doc => doc.data())\n    );\n    //asc\n    return promise;\n};\n\nconst GetMovieTimeTest = async (uid) =>{\n    const promise = await db.collection('continueData').doc(uid).collection('movie').orderBy(\"date\", \"desc\")\n    .get().then(data =>\n        data.docs.map(doc => doc.data())\n    );\n    //asc\n    return promise;\n};\n\nconst wrapPromise = (promise) => {\n    let status = 'pending';\n    let result;\n    const suspender = promise.then(\n        (res)=>{\n            status = 'success';\n            result = res;\n        },\n        (err) =>{\n            status = 'error';\n            result = err;\n        }\n    );\n    const read = () => {\n        switch (status) {\n          case 'pending':\n            throw suspender\n          case 'error':\n            throw result\n          default:\n            return result\n        };\n    };\n    return{read};\n};\n\nconst GetWatchlistTest = async (uid) =>{\n    const promise = await db.collection('continueData').doc(uid).collection('watchlist').get()\n        .then(data =>\n            data.docs.map(doc => doc.data())\n        );\n    return promise;\n}\n\nconst DeleteWatch = (uid,item) =>{\n    const { id } = item;\n    return db.collection('continueData').doc(uid).collection('watchlist').doc(id).delete()\n};\n\nconst SetWatch = (uid,item) =>{\n    const { id,type,name,poster } = item;\n    // const userId = firebase.auth().currentUser.uid;\n    return db.collection('continueData').doc(uid).collection('watchlist').doc(id).set({\n        id,\n        type,\n        name,\n        poster,\n        date: firebase.firestore.Timestamp.now()\n    });\n};\n\nexport{\n    app,\n    GoogleSignUp,\n    SignOut,\n    SetTvTime,\n    GetContinueTV,\n    GetContinueMovie,\n    SetMovieTime,\n    SetFavourite,\n    DeleteFavourite,\n    Favourite,GetAllFavoutiresTest,\n    GetTvTimeTest,GetMovieTimeTest,\n    GetWatchlistTest,\n    SetWatch,DeleteWatch\n};","import React from 'react';\nimport './loading.scss';\n\nconst TranslatorListLoading = () =>{\n    return(\n        <div className=\"mt-4\">\n            <div className=\"brdt mb-4\"></div>\n            <div className=\"service-content text-light loading-main\">\n                <div className='text-block-loading mb-4'></div>\n                <ul className=\"loading-ul list-group list-group-horizontal-sm mb-4\">\n                    <li className='list-group-item'></li>\n                    <li className='list-group-item'></li>\n                    <li className='list-group-item'></li>\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nexport default TranslatorListLoading;","import React from 'react';\nimport './loading.scss';\n\nconst SeasonListLoading = () =>{\n    return(\n        <div className=\"loading-main text-light mb-3\">\n            <div className=\"mb-4 text-block-loading\"></div>\n            <div className=\"flex\">\n                <div className=\"mr-2 dropdown loading-dropdown\">\n                    <div className=\"loading-div-season\"></div>\n                </div>\n                <div className=\"mr-2 dropdown loading-dropdown\">\n                    <div className=\"loading-div-season\"></div>\n                </div>\n                <div className=\"mr-2 dropdown loading-dropdown\">\n                    <div className=\"loading-div-season\"></div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default SeasonListLoading;","import React from 'react';\nimport './loading.scss';\n\nconst PlayerLoading = () =>{\n    return(\n        <div className=\"loading-main loading-player\">\n        </div>\n    );\n};\n\nexport default PlayerLoading;","import React from 'react';\nimport './loading.scss';\n\nconst FullScreen = () =>{\n    return(\n        <div className=\"auth-loading\">\n            <h1 className=\"auth-loading__title\">Better Place</h1>\n        </div>\n    );\n};\n\nexport default FullScreen;","import React from 'react';\nimport './loading.scss';\n\nconst MainListLoading = ({title = false}) =>{\n    const titleStyle = title ? {width: '15rem',height: '3.2rem'} \n    : {width: 0,height: 0};\n    return(\n        <div className=\"main-list-loading\">\n            {title ? <div className=\"main-list-loading__pad\"/> : false}\n            <div className=\"main-list-loading__title\" style={titleStyle}/>\n            <div className=\"main-list-loading__grid\">\n                <div className=\"main-list-loading__card\"/>\n                <div className=\"main-list-loading__card\"/>\n                <div className=\"main-list-loading__card\"/>\n            </div>\n        </div>\n    );\n};\n\nexport default MainListLoading;","const _apiKey = '?api_key=51d93e8a2a1a27a409fc155a8ece4e79';\nconst _baseUrl = 'https://api.themoviedb.org/3/';\nconst _ruLang = '&language=ru-RU';\nconst _noAdult = '&include_adult=false';\nconst posterpath = 'https://image.tmdb.org/t/p/w500';\nconst backdroppathWorst = 'https://image.tmdb.org/t/p/w1066_and_h600_bestv2';\nconst backdroppathOriginal = 'https://image.tmdb.org/t/p/original';\n\nconst getTV = (query) =>{\n    const promise = fetch(`${_baseUrl}tv/${query}${_apiKey}${_ruLang}`)\n        .then(res=>res.json())\n        .then(_transfromMulti);\n    \n    return wrapPromise(promise);\n};\n\nconst getMovie = (query) =>{\n    const promise = fetch(`${_baseUrl}movie/${query}${_apiKey}${_ruLang}`)\n        .then(res=>res.json())\n        .then(_transfromMulti);\n    \n    return wrapPromise(promise);\n};\n\nconst searchMulti = (query) =>{\n    const promise = fetch(`${_baseUrl}search/multi${_apiKey}${_ruLang}&query=${query}&page=1${_noAdult}`)\n        .then(res=>res.json())\n        .then(data=>_noActor(data.results).map(_transfromMulti)\n                    .slice(0, 30));\n    \n    return wrapPromise(promise);\n};\n\nconst findPopular = () =>{\n    const promise = fetch(`${_baseUrl}trending/all/week${_apiKey}${_ruLang}`)\n        .then(res=>res.json())\n        .then(data=>data.results.map(_transfromMulti)\n                    .slice(0, 10));\n    \n    return wrapPromise(promise);\n};\n\nconst findTrendTV = async () =>{\n    const promise = await fetch(`${_baseUrl}trending/tv/week${_apiKey}${_ruLang}`)\n        .then(res=>res.json())\n        .then(data=>data.results.map(_transfromMulti)\n                    .slice(0, 3));\n    \n    return promise;\n};\n\nconst wrapPromise = (promise) => {\n    let status = 'pending';\n    let result;\n    const suspender = promise.then(\n        (res)=>{\n            status = 'success';\n            result = res;\n        },\n        (err) =>{\n            status = 'error';\n            result = err;\n        }\n    );\n    const read = () => {\n        switch (status) {\n          case 'pending':\n            throw suspender\n          case 'error':\n            throw result\n          default:\n            return result\n        };\n    };\n    return{read};\n};\n\nconst _transfromMulti = (item) =>{\n    return{\n        id: item.id.toString(),\n        //id: item.id\n        name: item.name || item.title,\n        // title: item.title,\n        type: item.media_type,\n        poster: item.poster_path ? `${posterpath}${item.poster_path}` : null,\n        backdrop: `${backdroppathWorst}${item.backdrop_path}`,\n        backdropOriginal: `${backdroppathOriginal}${item.backdrop_path}`,\n        description: item.overview,\n        releaseDate: item.release_date,\n        originalName: item.original_name || item.original_title,\n        // originalTitle: item.original_title\n    }\n};\n\nconst _noActor = (object) =>{\n    return object.filter((el)=>{\n        return el.known_for_department === undefined;\n    });\n};\n\nexport{\n    searchMulti,\n    findPopular,\n    getTV,\n    getMovie,\n    findTrendTV\n};","import React,{useEffect,useState} from 'react';\nimport {app,GetTvTimeTest,GetMovieTimeTest} from '../../services/firebase';\nimport {FullScreen} from '../loading';\nimport * as movieService from '../../services/theMovieDB';\n\nconst AuthContext = React.createContext();\n\nconst AuthProvider = ({children}) =>{\n    const [currentUser,setCurrentUser] = useState(null);\n    const [authIsReady,setAuthIsReady] = useState(false);\n    const [continueData,setContinueData] = useState(null);\n    useEffect(()=>{\n        app.auth().onAuthStateChanged((user)=>{\n            setCurrentUser(user);\n            setAuthIsReady(true);\n        })\n    },[]);\n    if(currentUser && !continueData){\n        const fetchOne = GetTvTimeTest(currentUser.uid);\n        const fetchTwo = GetMovieTimeTest(currentUser.uid);\n        const fetchThree = movieService.findTrendTV();\n        Promise.all([fetchOne,fetchTwo,fetchThree]).then(data=>setContinueData(data));\n    }\n    if(currentUser && continueData){\n        return(\n            <AuthContext.Provider\n                value={{\n                    currentUser,\n                    continueS: continueData\n                }}\n            >{children}\n            </AuthContext.Provider>\n        )\n    }\n    if(!currentUser && authIsReady){\n        return(\n            <AuthContext.Provider\n                value={{\n                    currentUser,\n                    continueS: []\n                }}\n            >{children}\n            </AuthContext.Provider>\n        )\n    }\n    return <FullScreen/>;\n};\n\nexport{\n    AuthProvider,\n    AuthContext\n}","import React, { useContext, useState } from 'react';\nimport {AuthContext} from '../context/auth';\nimport {GoogleSignUp,SignOut} from '../../services/firebase';\nimport googleLogo from './google.svg';\n\nconst NavAuth = (props) =>{\n    const {currentUser} = useContext(AuthContext);\n    return(\n        currentUser ? <LoggedIn props={props.children}/> : \n        <li className=\"nav__item\">\n            <img src={googleLogo} alt='' className='nav__auth' \n            onClick={() => GoogleSignUp()}/>\n        </li>\n    )\n};\n\nconst LoggedIn = ({props}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const firstName = currentUser.displayName.split(\" \")[0];\n    return(\n        <React.Fragment>\n            {props}\n            <NavItem icon={currentUser.photoURL} title={firstName}>\n                <NavItemDropdown/>\n            </NavItem>\n        </React.Fragment>\n    );\n};\n\nconst NavItem = ({icon,title,...props}) =>{\n    const[open,setOpen] = useState(false);\n    const[active,setActive] = useState(false);\n    const handleClick = () =>{\n        setOpen(!open);\n        setActive(!active);\n    }\n    return(\n        <li className=\"nav__item\" onClick={handleClick}>\n            <img className=\"nav__auth\" alt='' src={icon}/>\n            <span className=\"nav__name\">{title}</span>\n            {open && props.children}\n        </li>\n    );\n};\n\nconst NavItemDropdown = () =>{\n    return(\n        <div className=\"nav__dropdown\">\n            <span onClick={()=>SignOut()}>Выйти</span>\n        </div>\n    );\n};\n\nexport default NavAuth;","import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBell } from '@fortawesome/free-solid-svg-icons';\nimport './notifications.scss';\n\nconst GoogleNotification = () =>{\n    const[notification,setNotification] = useState(true);\n    const handleNotification = () => setNotification(!notification);\n    if(notification)return(\n        <div className=\"notification-google\">\n            <div className=\"notification-google__block\">\n                <FontAwesomeIcon icon={faBell} className=\"notification-google__bell\"/> \n                <p className=\"notification-google__text\">\n                Войдите в свой гугл аккаунт! (Для полного функционала)\n                </p>\n            </div>\n            <p className=\"notification-google__button\"\n            onClick={handleNotification}>X</p>\n        </div>\n    );return false;\n}\n\nexport default GoogleNotification;","import React, { useContext } from 'react';\nimport NavAuth from './nav-auth';\nimport {NavLink} from 'react-router-dom';\nimport {AuthContext} from '../context/auth';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart,faSearch,faHome,faEye } from '@fortawesome/free-solid-svg-icons'\nimport {GoogleNotification} from '../notifications';\nimport './nav.scss';\n\nconst Nav = () =>{\n    const {currentUser} = useContext(AuthContext);\n    return(\n        <React.Fragment>\n            {!currentUser ? <GoogleNotification/> : false}\n            <nav className=\"nav container\">\n                <ul className=\"nav__list\">\n                    <li className=\"nav__item\">\n                        <ShorterLink to={'/'}>\n                        <FontAwesomeIcon className=\"nav__icon\" icon={faHome}/>Главная\n                        </ShorterLink>\n                    </li>\n                    <li className=\"nav__item\">\n                        <ShorterLink to={'/search'} exact={false}>\n                            <FontAwesomeIcon className=\"nav__icon\" icon={faSearch}/>Поиск\n                        </ShorterLink>\n                    </li>\n                </ul>\n                <ul className=\"nav__list link-inverse\">\n                    <NavAuth>\n                        <li className=\"nav__item\">\n                            <ShorterLink to={'/favourite'} reverse={false}>\n                                <FontAwesomeIcon icon={faHeart} className=\"nav__icon\"/>Избранные\n                            </ShorterLink>\n                        </li>\n                        <li className=\"nav__item\">\n                            <ShorterLink to={'/watchlist'} reverse={false}>\n                                <FontAwesomeIcon icon={faEye} className=\"nav__icon\"/>Watchlist\n                            </ShorterLink>\n                        </li>\n                    </NavAuth>\n                </ul>\n            </nav>\n        </React.Fragment>\n    );\n};\n\nconst ShorterLink = ({to,exact = true,reverse = true,...props}) =>{\n    const autoReverse = reverse ? \"nav__link--active\" : \"nav__link--active_reverse\";\n    return (\n        <NavLink className=\"nav__link\"\n            activeClassName={autoReverse} exact={exact}\n            to={to}>{props.children}\n        </NavLink>\n    )\n}\n\nexport default Nav;","import Nav from './nav';\n\nexport default Nav;","import React,{useEffect,useState,useContext} from 'react';\nimport {GetAllFavoutiresTest,GetWatchlistTest} from '../../services/firebase';\nimport {AuthContext} from './auth';\nimport {FullScreen} from '../loading';\n\nconst FavouriteContext = React.createContext();\n\nconst FavouriteProvider = ({children}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const[fav,setFav] = useState(null);\n    const[watch,setWatch] = useState(null);\n    useEffect(()=>{\n        let unmounted = false;\n        if(currentUser){\n            const fetchOne = GetAllFavoutiresTest(currentUser.uid);\n            const fetchTwo = GetWatchlistTest(currentUser.uid);\n            Promise.all([fetchOne,fetchTwo])\n                .then(data=>{if(!unmounted){setFav(data[0]);setWatch(data[1])}});\n        }return () => { unmounted = true };\n    },[currentUser]);\n    if(fav){\n        return (<FavouriteContext.Provider\n            value={{\n                fav,setFav,\n                watch,setWatch\n            }}\n        >{children}\n        </FavouriteContext.Provider>)\n    }\n    if(!currentUser){\n        return (<FavouriteContext.Provider\n            value={{\n                fav,setFav,\n                watch,setWatch\n            }}\n        >{children}\n        </FavouriteContext.Provider>)\n    }\n    return <FullScreen/>\n};\n\nexport{\n    FavouriteProvider,\n    FavouriteContext\n}","const addLatest = (item) =>{\n    let latest = localStorage.getItem('Latest');\n    const itemData = {\n        id: item.id,\n        name: item.name,\n        type: item.type,\n        poster: item.poster\n    };\n    if(latest !== null){\n        const ll = `${JSON.stringify(itemData)}[[[${latest}`;\n        latest = [...new Set(ll.split('[[['))].slice(0,3).join('[[[');\n        localStorage.setItem('Latest', latest);\n    }else{\n        localStorage.setItem('Latest', JSON.stringify(itemData));\n    };\n};\n\nconst getLatest = () =>{\n    const latest = localStorage.getItem('Latest');\n    if(latest){\n        return latest.split('[[[',3).map(item=>JSON.parse(item));\n    }else{\n        return [];\n    }  \n};\n\nexport{\n    addLatest,\n    getLatest\n};","import React, { useContext,useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport FastAverageColor from 'fast-average-color';\nimport {AuthContext} from '../context/auth';\nimport {FavouriteContext} from '../context/favourite';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart ,faEye, faEyeSlash} from '@fortawesome/free-solid-svg-icons';\nimport { faHeart as reHeart}  from '@fortawesome/free-regular-svg-icons';\nimport { SetFavourite,DeleteFavourite,SetWatch,DeleteWatch } from '../../services/firebase';\nimport * as localService from '../../services/localStorage';\n\nconst MainList = ({promise,resource = null,title = false}) =>{\n    resource = promise ? promise.read() : resource;\n\n    if(resource.length !== 0)return(\n        <div className=\"main-list\">\n            <h3 className=\"main-list__title\">{title}</h3>\n            <div className=\"main-list__grid\">\n                {resource.map((item)=><CardDominant key={item.id} item={item}/>)}\n            </div>\n        </div>\n    );return false;\n};\n\nconst CardDominant = ({item}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const[hover,setHover] = useState(false);\n    const[dominantColor,setDominantColor] = useState('');\n\n    const toggleHover = () => {\n        setHover(!hover);\n    };\n    useEffect(()=>{\n        const fac = new FastAverageColor();\n        if(item.poster !== null){\n            const img = new Image();\n            img.crossOrigin = \"anonymous\";\n            img.src = item.poster;\n            fac.getColorAsync(img, {\n                ignoredColor: [0, 0, 0, 255] // black\n            }).then(function(color) {\n                setDominantColor(`0 0 5rem 0.4rem ${color.rgba}`);\n            });\n        };\n        return function cleanup(){\n            fac.destroy();\n        };\n    },[item]);\n    const hoverStyle = hover ? {boxShadow: dominantColor,borderRadius: '4%'} : {};\n\n    return (\n        <div className=\"main-list__card\" style={hoverStyle}\n        onMouseEnter={toggleHover}\n        onMouseLeave={toggleHover}>\n            <Link className=\"main-list__link\"\n                to={`/${item.type}/${item.id}`}\n                onClick={()=>localService.addLatest(item)}/>\n            <div className=\"main-list__shadow\"/>\n            {currentUser ? \n                    <React.Fragment>\n                        <FavouriteIcon item={item}/>\n                        <WatchIcon item={item}/>\n                    </React.Fragment>\n                 : false}\n            <img className=\"main-list__poster\" alt=\"\" src={item.poster}/>\n            <p className=\"main-list__name\">{item.name}</p>\n        </div>\n    )\n}\n\nconst FavouriteIcon = ({item}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const {fav,setFav} = useContext(FavouriteContext);\n    const delFavourite = fav.filter(x=>x.id!==item.id);\n    const addFavourite = [...fav].concat(item);\n\n    return(\n        <div className=\"main-list__favourite\">\n            {fav.find(x=>x.id===item.id) ? \n                <FontAwesomeIcon icon={faHeart} className=\"main-list__favIcon\"\n                color=\"pink\"\n                onClick={()=>{\n                    DeleteFavourite(currentUser.uid,item);\n                    setFav(delFavourite);\n                }}/> \n            :   \n            <FontAwesomeIcon icon={reHeart} className=\"main-list__favIcon\"\n            color=\"pink\"\n            onClick={()=>{\n                SetFavourite(currentUser.uid,item);\n                setFav(addFavourite);\n            }}/>\n            }\n        </div>\n    )\n}\n\nconst WatchIcon = ({item}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const {watch,setWatch} = useContext(FavouriteContext);\n    const watchExist = watch ? watch.find(x=>x.id===item.id) : null;\n    const delWatch = watch ? watch.filter(x=>x.id!==item.id) : null;\n    const addWatch = watch ? [...watch].concat(item) : null;\n    return(\n        <div className=\"main-list__watchlist\">\n            {watchExist ? \n                <FontAwesomeIcon icon={faEyeSlash} className=\"main-list__watchIcon\"\n                color=\"pink\"\n                onClick={()=>{\n                    DeleteWatch(currentUser.uid,item);\n                    setWatch(delWatch);\n                }}/> \n            :   \n            <FontAwesomeIcon icon={faEye} className=\"main-list__watchIcon\"\n            color=\"pink\"\n            onClick={()=>{\n                SetWatch(currentUser.uid,item);\n                setWatch(addWatch);\n            }}/>\n            }\n        </div>\n    )\n}\n\nexport default MainList;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLongArrowAltRight } from '@fortawesome/free-solid-svg-icons';\nimport * as localService from '../../services/localStorage';\n\nconst ContinueList = ({promise,resource = null,title}) =>{\n    resource = promise ? promise.read() : resource;\n    const[open,setOpen] = useState(false);\n    const[seeAllText,setSeeAllText] = useState(false);\n    const handleOpen = () =>{\n        setOpen(!open);\n        setSeeAllText(!seeAllText);\n    };\n    const reosurceRemain = (resource.length - 5) > 0 ? (resource.length - 5) : '';\n    const text__seeAll = seeAllText ? 'Скрыть все ' : `Показать все ${reosurceRemain} `;\n\n    return(\n        <div className=\"continue-list__block\">\n            <div className=\"continue-list__header\">\n                <h4 className=\"continue-list__subTitle\">{title}</h4>\n                {resource.length > 5 ?\n                    <p className=\"continue-list__seeAll\"\n                    onClick={handleOpen}>\n                    {text__seeAll}<FontAwesomeIcon icon={faLongArrowAltRight}/>\n                    </p> \n                : false}\n            </div>\n            <div className=\"continue-list__grid\">\n                {resource.slice(0,5).map((item)=>(\n                    <Item item={item} key={item.id}/>\n                ))}\n                {open && resource.slice(5).map((item)=>(\n                    <Item item={item} key={item.id}/>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst Item = ({item}) =>{\n    const gradientWidth = parseInt(item.time / item.endTime * 100);\n    return(\n        <div className=\"continue-list__card\">\n            <Link className=\"continue-list__link\" to={{\n                pathname: `/${item.type}/${item.id}`,\n                state: {\n                    item\n                }\n            }} onClick={()=>localService.addLatest(item)}/>\n            <img className=\"continue-list__poster\" alt=\"\" src={item.poster}/>\n            <div className=\"continue-list__info\">\n                <p className=\"continue-list__name\">{item.name}</p>\n                {<InfoTV item={item}/>}\n                <div className=\"continue-list__status\">\n                    <span className=\"continue-list__gradient\" \n                    style={{width: `${gradientWidth}%`}}/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst InfoTV = ({item}) =>{\n    if(item.season)return(\n        <div className=\"continue-list__tv\">\n            <p className=\"continue-list__subtext\">Сезон {item.season}</p>\n            <p className=\"continue-list__subtext\">Эпизод {item.episode}</p>\n        </div>\n    );return false\n}\n\nexport default ContinueList;","import React,{useContext} from 'react';\nimport ContinueList from './main-continue__list';\nimport {AuthContext} from '../context/auth';\n\nconst MainContinue = () =>{\n    const {continueS} = useContext(AuthContext);\n    if(continueS[0].length || continueS[1].length)return(\n        <div className=\"continue-list\">\n            <h3 className=\"continue-list__title\">Продолжить</h3> \n            <TV context={continueS}/>\n            <Movie context={continueS}/>\n        </div>\n    );return false;\n};\n\nconst TV = ({context}) =>{\n    if(context[0].length)return<ContinueList title={'Сериалы'} resource={context[0]}/>\n    return false;\n}\n\nconst Movie = ({context}) =>{\n    if(context[1].length)return<ContinueList title={'Фильмы'} resource={context[1]}/>\n    return false;\n}\n\nexport default MainContinue;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport FastAverageColor from 'fast-average-color';\nimport * as localService from '../../services/localStorage';\n\nconst MainTop = ({promise,resource = null}) =>{\n    resource = promise ? promise.read() : resource;\n    const[clicked,setClicked] = useState(resource[0].id);\n    const handleClick = (item) => setClicked(item.id);\n\n    if(resource.length !== 0)return(\n        <div className=\"main-top\">\n            <div className=\"main-top__grid\">\n                {resource.map((item)=>{\n                if(item.id===clicked)return<CardDominant key={item.id} item={item}/>\n                return false})}\n                {resource.map((item)=>{\n                if(item.id===clicked)return<CardMini key={item.id} item={item} handleClick={handleClick}/>\n                return <CardMini key={item.id} item={item} handleClick={handleClick} clickedStyle={true}/>})}\n            </div>\n        </div>\n    );return false;\n};\n\nconst CardDominant = ({item}) =>{\n    const[dominantColor,setDominantColor] = useState('');\n    useEffect(()=>{\n        const fac = new FastAverageColor();\n        if(item.backdrop !== null){\n            const img = new Image();\n            img.crossOrigin = \"anonymous\";\n            img.src = item.backdrop;\n            fac.getColorAsync(img, {\n                ignoredColor: [0, 0, 0, 255] // black\n            }).then(function(color) {\n                setDominantColor(`0 0 30rem 3rem ${color.rgba}`);\n            });\n        };\n        return function cleanup(){\n            fac.destroy();\n        };\n    },[item]);\n    const hoverStyle = {boxShadow: dominantColor,borderRadius: '4%'};\n    const description = item.description.length > 180 ? \n        item.description.slice(0,180).concat('...') : item.description;\n\n    return (\n        <div className=\"main-top__card\" style={hoverStyle}>\n            <Link className=\"main-top__link\"\n                to={`/${item.type}/${item.id}`}\n                onClick={()=>localService.addLatest(item)}/>\n            <div className=\"main-top__shadow\"/>\n            <img className=\"main-top__backdrop\" alt=\"\" src={item.backdropOriginal}/>\n            <h1 className=\"main-top__name\">{item.name}</h1>\n            <p className=\"main-top__description\">{description}</p>\n        </div>\n    );\n};\n\nconst CardMini = ({item,handleClick,clickedStyle = false}) =>{\n    const divStyle = clickedStyle ? \"main-top__card-mini--active\" : \"main-top__card-mini\";\n    return (\n        <div className={divStyle} onClick={()=>handleClick(item)}>\n            <div className=\"main-top__shadow-mini\"/>\n            <img className=\"main-top__backdrop\" alt=\"\" src={item.backdrop}/>\n            <h1 className=\"main-top__name-mini\">{item.name}</h1>\n        </div>\n    );\n};\n\nexport default MainTop;","import React,{Suspense,useContext} from 'react';\nimport MainList from './main-list';\nimport MainContinue from './main-continue';\nimport MainTop from './main-top';\nimport {MainListLoading} from '../loading';\nimport {AuthContext} from '../context/auth';\nimport * as movieService from '../../services/theMovieDB';\nimport * as localService from '../../services/localStorage';\n\nconst MainRecommend = () =>{\n    const {currentUser,continueS} = useContext(AuthContext);\n    const popular = movieService.findPopular();\n    const localData = localService.getLatest();\n    return(\n        <div className=\"container\">\n            {continueS[2] ? <MainTop resource={continueS[2]}/> : false}\n            {currentUser ? <MainContinue/> : false}\n            {localData[0] ? <MainList resource={localData} title={'Недавние'}/> : false}\n            <Suspense fallback={<MainListLoading title/>}>\n                <MainList promise={popular} title={'Популярное'}/>\n            </Suspense>\n        </div>\n    );\n};\n\nexport default MainRecommend;","import Main from './main';\n\nexport default Main;","import React from 'react';\nimport Nav from '../nav';\nimport MainRecommend from './main-recommend';\nimport './main.scss';\n\nconst Main = () =>{\n    return(\n        <React.Fragment>\n            <Nav/>\n            <MainRecommend/>\n        </React.Fragment>\n    );\n};\n\nexport default Main;","import Favourite from './favourite';\n\nexport default Favourite;","import React,{useContext} from 'react';\nimport Nav from '../nav';\nimport {AuthContext} from '../context/auth';\nimport { Redirect } from 'react-router-dom';\nimport MainList from '../main/main-list';\nimport {FavouriteContext} from '../context/favourite';\n\n\nconst Favourite = () =>{\n    const {currentUser} = useContext(AuthContext);\n    const {fav} = useContext(FavouriteContext);\n    if(!currentUser) return <Redirect to='/'/>\n    if(fav)return(\n        <React.Fragment>\n            <Nav/>\n            <div className=\"container\">\n                <MainList resource={fav} title={'Избранные'}/>\n            </div>\n        </React.Fragment>\n    );return <Nav/>\n}\n\nexport default Favourite;","import Watchlist from './watchlist';\n\nexport default Watchlist;","import React,{useContext} from 'react';\nimport Nav from '../nav';\nimport {AuthContext} from '../context/auth';\nimport { Redirect } from 'react-router-dom';\nimport MainList from '../main/main-list';\nimport {FavouriteContext} from '../context/favourite';\n\n\nconst Watchlist = () =>{\n    const {currentUser} = useContext(AuthContext);\n    const {watch} = useContext(FavouriteContext);\n    if(!currentUser) return <Redirect to='/'/>\n    if(watch)return(\n        <React.Fragment>\n            <Nav/>\n            <div className=\"container\">\n                <MainList resource={watch} title={'Watchlist'}/>\n            </div>\n        </React.Fragment>\n    );return <Nav/>\n}\n\nexport default Watchlist;","const cheerio = require('cheerio');\n\nconst _searchUrl = 'https://rezka.ag/index.php?do=search&subaction=search&q=';\nconst _searchProxy = 'https://api.allorigins.win/get?url=';\n    // https://thingproxy.freeboard.io/fetch/\n    // https://api.allorigins.win/get?url=\nconst _getProxy = 'https://cors-anywhere.herokuapp.com/';\nconst _OneTranslator = 'Неизвестно';\nconst _cdnSeries = 'https://rezka.ag/ajax/get_cdn_series/';\n\nconst find = (query) =>{\n    const promise = fetch(`${_searchProxy}${encodeURIComponent(`${_searchUrl}${encodeURIComponent(query)}`)}`)\n        .then(res=>res.json())\n        .then(data=>{\n            if(data.contents){\n                const $ = cheerio.load(data.contents);\n                return $('.b-content__inline_item-cover > a').attr('href');\n            }else{\n                return data;\n            }});\n    return wrapPromise(promise);\n};\n\nconst findTranslators = (query) =>{\n    const promise = fetch(`${_searchProxy}${encodeURIComponent(query)}`)\n        .then(res=>res.json())\n        .then(data=>{\n            if(data.contents){\n                const translators = [];\n                let regex = '';\n                const newData = {\n                    translators,\n                    id: query.match(/\\/\\d+/g)[0].substr(1),\n                    movie: false\n                };\n                if(data.contents.match(/(initCDNMoviesEvents\\()([0-9]*), ([0-9]*)/g)){\n                    regex = (data.contents.match(/(initCDNMoviesEvents\\()([0-9]*), ([0-9]*)/g))[0].match(/\\d+/g)[1];\n                    newData.movie = true;\n                }else{\n                    regex = (data.contents.match(/(initCDNSeriesEvents\\()([0-9]*), ([0-9]*)/g))[0].match(/\\d+/g)[1];\n                };\n                const $ = cheerio.load(data.contents);\n                if(newData.movie){\n                    translators.push({\n                        id: regex,\n                        name: _OneTranslator,\n                        url: data.contents.match(/sof.tv.initCDNMoviesEvents(.*),\"default_quality\"/g)[0].match(/\\[(.*)\",/g)[0].slice(0, -2).replace(/\\\\/g,'')\n                        }\n                    );\n                }else{\n                    if($('.b-translator__item').length){\n                        $('.b-translator__item').each(function(index,element){\n                            translators.push({\n                                id: $(element).attr('data-translator_id'),\n                                name: $(element).text()\n                                }\n                            );\n                        });\n                    }else{\n                        translators.push({\n                            id: regex,\n                            name: _OneTranslator\n                            }\n                        );\n                    };\n                };\n                return newData;\n            }else{\n                return data;\n            }});\n\n    return wrapPromise(promise);\n};\n\nconst getSeasonsSeries = (query,data) =>{\n    const promise = fetch(`${_getProxy}${_cdnSeries}`,{\n        method: \"POST\",\n        headers: {\n            \"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n            //maybe fix issue \"Access-Control-Allow-Origin\": \"*\"\n        },\n        body: \"id=\"+data.id+\"&translator_id=\"+query+\"&action=get_episodes\"\n    })\n        .then(res=>res.json())\n        .then(data=>{\n                const CHRepisodes = cheerio.load(data.episodes.split('\\\\').join(''));\n                const CHRseasons = cheerio.load(data.seasons.split('\\\\').join(''));\n                let lenghtOfSeasonsAndCounter = parseInt(CHRseasons('li').attr('data-tab_id'));\n                const newData = [];\n                CHRseasons('li').each((i,e)=>{\n                    newData.push({\n                        season: parseInt(CHRseasons(e).attr('data-tab_id')),\n                        episodes: []\n                    });\n                });\n                CHRepisodes('.b-simple_episode__item').each((i,e)=>{\n                    const episode = CHRepisodes(e).attr('data-episode_id');\n                    if(parseInt(episode) <= 1 && i>0){\n                        lenghtOfSeasonsAndCounter++;\n                        newData.filter((e)=>{\n                            return e.season === lenghtOfSeasonsAndCounter;\n                        })[0].episodes.push(episode);\n                    }else{\n                        newData.filter((e)=>{\n                            return e.season === lenghtOfSeasonsAndCounter;\n                        })[0].episodes.push(episode);\n                    };\n                });\n                return newData;\n            });\n\n    return wrapPromise(promise);\n};\n\nconst getVideo = (data) =>{\n    const promise = fetch(`${_getProxy}${_cdnSeries}`,{\n        method: \"POST\",\n        headers: {\n            \"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n        },\n        body: \"id=\"+data.resid+\"&translator_id=\"+data.translator+\"&season=\"+data.season+\"&episode=\"+data.episode+\"&action=get_stream\"\n    })\n        .then(res=>res.json())\n        .then(data=>data)\n\n    return wrapPromise(promise);\n};\n\nconst wrapPromise = (promise) => {\n    let status = 'pending';\n    let result;\n    const suspender = promise.then(\n        (res)=>{\n            status = 'success';\n            result = res;\n        },\n        (err) =>{\n            status = 'error';\n            result = err;\n        }\n    );\n    const read = () => {\n        switch (status) {\n          case 'pending':\n            throw suspender\n          case 'error':\n            throw result\n          default:\n            return result\n        };\n    };\n    return{read};\n};\n\nexport {\n    find,findTranslators,getSeasonsSeries,getVideo\n}","import React,{Suspense,useContext,useEffect} from 'react';\nimport {getVideo} from '../../services/rezka';\nimport {PlayerLoading} from '../loading';\nimport {AuthContext} from '../context/auth';\nimport {SetTvTime} from '../../services/firebase';\n/*        const interval = setInterval(function() {\n            console.log(playerjs.api(\"time\"));\n        }, 5000);\n*/\nconst Player = ({data}) =>{\n    const video = getVideo(data);\n    if(data.movie){\n        return <Video url={data.url}/>\n    }\n    return(\n        <Suspense fallback={<PlayerLoading/>}>\n            <Video promise={video} data={data}/>\n        </Suspense>\n    );\n}\n\nconst Video = ({promise,url,data}) =>{\n    const resource = promise.read();\n    const {currentUser} = useContext(AuthContext);\n    let time = 0.0;\n    let endTime = 0.0;\n    function receiveMessage(event){\n        if(currentUser){\n            time = event.data.time;\n            if(event.data.duration){endTime = event.data.duration};\n        };\n    };\n\n    useEffect(() => {\n        window.addEventListener('message', receiveMessage);\n        const loop = setInterval(function(){\n            if(currentUser){\n                SetTvTime(currentUser.uid,'tv',\n                data.id,data.resid,data.season,data.episode,\n                time,data.translator,data.res,\n                data.name,data.poster,endTime);\n            }\n        }, 2000);\n    \n        return () => {\n          window.removeEventListener('message', receiveMessage);\n          clearInterval(loop);\n        };\n    });\n\n    return(\n        <div className='playerjs'>\n            <iframe \n            id=\"playerplayer\"\n            title='playerjs'\n            allowFullScreen\n            className='player fade-in'\n            src={'/playerjs.html?file='+(resource.url || url)+(data.time ? `&start=${data.time}` : '')}\n            type='text/html'\n            allowtransparency='true'\n            />\n        </div>\n    );\n}\nexport default Player;","import React,{useContext,useEffect} from 'react';\nimport {AuthContext} from '../context/auth';\nimport {SetMovieTime} from '../../services/firebase';\n\nconst FilmPlayer = ({url,data}) =>{\n    const {currentUser} = useContext(AuthContext);\n    let time = 0.0;\n    let endTime = 0.0;\n    function receiveMessage(event){\n        if(currentUser){\n            time = event.data.time;\n            if(event.data.duration){endTime = event.data.duration};\n        };\n    };\n    console.log(url);\n\n    useEffect(() => {\n        window.addEventListener('message', receiveMessage);\n        const loop = setInterval(function(){\n            if(currentUser){\n                SetMovieTime(currentUser.uid,'movie',\n                data.id,data.resid,\n                time,data.translator,data.res,\n                data.name,data.poster,endTime);\n            }\n        }, 2000);\n    \n        return () => {\n          window.removeEventListener('message', receiveMessage);\n          clearInterval(loop);\n        };\n    });\n\n    return(\n        <div className='playerjs'>\n            <iframe\n            id=\"playerplayer\"\n            title='playerjs'\n            allowFullScreen\n            className='player fade-in'\n            src={'/playerjs.html?file='+url+(data.time ? `&start=${data.time}` : '')}\n            type='text/html'\n            allowtransparency='true'\n            />\n        </div>\n    );\n}\n\nexport default FilmPlayer;","import React,{Component} from 'react';\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, info) {\n    // Later\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div>\n          <h1>Ошибка</h1>\n          <p>Попробуйте перезагрузить страницу</p>\n        </div>\n      );\n    }\n\n    return this.props.children; \n  }\n}","import React,{useState,Suspense,useEffect} from 'react';\nimport {find,findTranslators,getSeasonsSeries} from '../../services/rezka';\nimport './main-res.scss';\nimport Player from '../player';\nimport FilmPlayer from '../player/film-player';\nimport {TranslatorListLoading,SeasonListLoading} from '../loading';\nimport {Dropdown,DropdownButton} from 'react-bootstrap';\nimport ErrorBoundary from '../error-boundary';\n\n//const scrollToRef = (ref) => window.scrollTo(0, ref.offsetTop)\n\nconst MainView = ({selected,res,continueData})=>{\n    const search = find(selected.originalName);\n    return(\n        <ErrorBoundary>\n            <Suspense fallback={<TranslatorListLoading/>}>\n                <Search promise={search} res={res} info={selected} continueData={continueData}/>\n            </Suspense>\n        </ErrorBoundary>\n    )\n};\n\nconst Search = ({promise,res,info,continueData})=>{\n    const resource = promise.read();\n    const translators = findTranslators(resource);\n    return (\n        <Suspense fallback={<TranslatorListLoading/>}>\n            <Translators promise={translators} res={res} info={info} continueData={continueData}/>\n        </Suspense>\n    )\n};\n\nconst Translators = ({promise,res,info,continueData}) =>{\n    const[translator,setTranslator] = useState(null);\n    const handleTranslator = (e) => setTranslator(e);\n    const resource = promise.read();\n    const episodes = getSeasonsSeries(translator,resource);\n    useEffect(()=>{\n        if(continueData){\n            setTranslator(continueData.translator);\n        };\n    },[continueData])\n    if(resource.movie){\n        const movieData = continueData ? {\n            id: continueData.id,\n            resid: continueData.resid,\n            translator: 'Неизвестно',\n            res,\n            name: info.name,\n            poster: info.poster,\n            time: continueData.time\n        } :  {\n            id: info.id,\n            resid: resource.id,\n            translator: 'Неизвестно',\n            res,\n            name: info.name,\n            poster: info.poster,\n        };\n        return(\n            <div className=\"mt-4\">\n                <div className=\"brdt mb-4\"></div>\n                <div className=\"text-light\">\n                    <h4 className='text-opacity mb-4'>Фильм</h4>\n                    <FilmPlayer\n                    data={movieData}\n                    url={resource.translators[0].url} \n                    />\n                </div>\n            </div>\n        );\n    };\n    return (\n        <React.Fragment>\n        <div className=\"mt-4\">\n            <div className=\"brdt mb-4\"></div>\n            <div className=\"service-content text-light\">\n                <h4 className='text-opacity mb-4'>Переводы</h4>\n                <ListOfTranslators data={resource} handleTranslator={handleTranslator} continueData={continueData}/>\n            </div>\n        </div>\n        {translator ? (\n        <div className=\"mt-4\">\n            <div className=\"brdt mb-4\"></div>\n            <Suspense fallback={<SeasonListLoading/>}>\n                <ListOfEpisodes promise={episodes} translator={translator}\n                 id={resource.id} res={res} info={info}\n                 continueData={continueData}/>\n            </Suspense>\n        </div>\n        ) : false\n        }\n        </React.Fragment>\n    );\n};\n\nconst ListOfTranslators = ({data,handleTranslator,continueData}) =>{\n    const[active,setActive] = useState(null);\n    const handleActive = (e) => setActive(e.id);\n    useEffect(()=>{\n        if(continueData){\n            setActive(continueData.translator);\n        };\n    },[continueData])\n    return(\n        <ul className=\"list-group list-group-horizontal-sm ul-translators mb-4\">\n        {\n        data.translators.map((e)=>(\n            <li className={`list-group-item ${e.id === active ? 'trs-active' : ''}`} \n            key={e.id}>\n                <span onClick={()=>{handleActive(e);handleTranslator(e.id)}}>{e.name}</span>\n            </li>\n        ))\n        }\n        </ul>\n    );\n};\n\nconst ListOfEpisodes = ({promise,translator,id,res,info,continueData}) =>{\n    const resource = promise.read();\n    const[activeSeason,setActiveSeason] = useState();\n    const[activeEpisode,setActiveEpisode] = useState();\n    const[video,setVideo] = useState();\n    useEffect(()=>{\n        if(continueData){\n            setActiveSeason(continueData.season);\n            setActiveEpisode(continueData.episode);\n            setVideo({\n                resid: continueData.resid,\n                id: info.id,\n                translator,\n                season: continueData.season,\n                episode: continueData.episode,\n                res,\n                name: info.name,\n                poster: info.poster,\n                time: continueData.time\n            });\n        };\n    },[continueData, info.id, info.name, info.poster, translator, res])\n    const handleSeasonEpisode = (season,episode) =>{\n        setActiveSeason(season);\n        setActiveEpisode(episode);\n    };\n    const handleVideo = (resid,season,episode) => {\n        const data = {\n            resid,\n            id: info.id,\n            translator,\n            season,\n            episode,\n            res,\n            name: info.name,\n            poster: info.poster\n        };\n        setVideo(data);\n    };\n    return(\n        <React.Fragment>\n        <div className=\"series-content text-light mb-3\">\n            <h4 className='text-opacity mb-4'>Сезон</h4>\n            <div className='flex'>\n            {resource.map(e=>(\n                <DropdownButton drop='down' key={e.season} className={`mr-2 ${e.season === activeSeason ? 'sne-active' : ''}`}\n                id=\"dropdown-basic-button\" \n                title={`Сезон ${e.season}`}>\n                {e.episodes.map(eSecond=>(\n                        <Dropdown.Item key={eSecond} \n                        className={`text-light text-opacity ${eSecond === activeEpisode && e.season === activeSeason ? 'sne-active' : ''}`}\n                        onClick={()=>{\n                            handleVideo(id,e.season,eSecond);\n                            handleSeasonEpisode(e.season,eSecond)\n                        }}>\n                        {eSecond}</Dropdown.Item>\n                ))}\n                </DropdownButton>\n            ))}\n            </div>\n        </div>\n        {video ? <Player data={video}/> : false}\n        </React.Fragment>\n    );\n};\n\nexport default MainView;","import React,{Suspense,useState,useContext} from 'react';\nimport {MainView} from '../resources';\nimport * as movieService from '../../services/theMovieDB';\nimport { Link } from 'react-router-dom';\nimport './popup.scss';\nimport {AuthContext} from '../context/auth';\nimport {GetContinueTV,GetContinueMovie} from '../../services/firebase';\nimport {FullScreen} from '../loading';\n\nconst PopupMain = ({id,mediaType,location})=>{\n    const {currentUser} = useContext(AuthContext);\n    const ifContinue = location.state ? location.state.item : null;\n    const continueData = currentUser ? ( mediaType === 'tv' ? GetContinueTV(currentUser.uid,id) : GetContinueMovie(currentUser.uid,id) ) : null;\n    \n    return(\n        <Suspense fallback={false}>\n            <ContinueDataTest user={currentUser} promise={continueData} id={id} mediaType={mediaType} ifContinue={ifContinue}/>\n        </Suspense>\n    )\n};\n\nconst ContinueDataTest = ({id,mediaType,promise,ifContinue,user}) =>{\n    const resource = user ? (ifContinue ? ifContinue : promise.read()) : null;\n\n    if(mediaType === 'tv'){\n        const tv = movieService.getTV(id);\n        return(\n            <Suspense fallback={<FullScreen/>}>\n                <Popup promise={tv} continueData={resource}/>\n            </Suspense>\n        )\n    }else if(mediaType === 'movie'){\n        const movie = movieService.getMovie(id);\n        return(\n            <Suspense fallback={<FullScreen/>}>\n                <Popup promise={movie} continueData={resource}/>\n            </Suspense>\n        )\n    }\n}\n\nconst Popup = ({promise,continueData}) =>{\n    const resource = promise.read();\n    return(\n        //<React.Fragment>\n        <div className='local-bootstrap'>\n        <div className='backdrop'>\n            <img alt='' src={resource.backdropOriginal}/>\n        </div>\n        <div className='popup-info font-weight-light text-light shadow-sm'>\n            <Link className='back-span text-opacity p-4' to='/'><span>X</span></Link>\n            <div className='blur'></div>\n            <div className='backdrop-content p-4 text-opacity'>\n                <h1>{resource.name}</h1>\n                <p className='description'>{resource.description}</p>\n            </div>\n        </div>\n        <div className='resources p-4'>\n            <h4 className='text-light text-opacity mb-4'>Сервис</h4>\n            <Resources selected={resource} continueData={continueData}/>\n        </div>\n        </div>\n        //</React.Fragment>\n    );\n};\n\nconst Resources = ({selected,continueData}) =>{\n    const[res,setRes] = useState(continueData ? continueData.resource : '');\n    const handleRes = (value) => {\n        setRes(value);\n    };\n    const ress=[\n        {value: 'hdrezka', name: 'HD REZKA', id: 'rr0', className: 'hdrezka-service'},\n        {value: 'gidonline', name: 'GID ONLINE', id: 'rr1', className: 'gidonline-service'},\n        //{value: 'filmix', name: 'FILMIX', id: 'rr2', className: 'filmix-service'}\n    ];\n    const Switcher = () =>{\n        switch(res){\n        case 'hdrezka':\n            return <MainView res={res} selected={selected} continueData={continueData}/>;\n        case 'gidonline':\n            return false;\n        case 'filmix':\n            return false;\n        default:\n            return null;\n        };\n    };\n\n    return(\n        <React.Fragment>\n        <div className='flex'>\n        {\n            ress.map(e=>\n            <button className={`service shadow font-weight-bold text-light mr-3 ${e.className}`} \n            key={e.id} onClick={()=>handleRes(e.value)}>\n                <span className='service-p text-opacity'>{e.name}</span>\n            </button>\n            )\n        }\n        </div>\n        <Switcher/>\n        </React.Fragment>\n    );\n};\n\nexport default PopupMain;","import React,{useState,Suspense} from 'react';\nimport {searchMulti} from '../../services/theMovieDB';\nimport MainList from '../main/main-list';\nimport Nav from '../nav';\nimport {withRouter} from 'react-router-dom';\nimport './search.scss';\nimport {MainListLoading} from '../loading';\n\nconst Search = ({definput,history}) =>{\n    const [input,setInput] = useState(definput);\n    const handleInput = (e) => {\n        setInput(e.target.value);\n        if(input){\n            history.push(`/search/${e.target.value}`);\n        };\n    };\n\n    return(\n        <React.Fragment>\n            <Nav/>\n            <div className=\"container search\">\n                <MainSearchForm input={input} handle={handleInput}/>\n                <SearchList input={input}/>\n            </div>\n        </React.Fragment>\n    );\n};\n\nconst SearchList = ({input}) =>{\n    if(input !== undefined){\n        const search = searchMulti(input);\n        return (\n            <Suspense fallback={<MainListLoading/>}>\n                <MainList promise={search}/>\n            </Suspense>\n        )\n    }else return false;\n};\n\nconst MainSearchForm = ({input,handle}) =>{\n    return(\n        <input className=\"search__input\"\n            autoFocus\n            placeholder=\"Поиск\" \n            onChange={handle}\n            value={input}\n        />\n    );\n};\n\nexport default withRouter(Search);","import Search from './search';\n\nexport default Search;","import React from 'react';\nimport './app.scss';\nimport Main from '../main';\nimport Favourite from '../favourite';\nimport Watchlist from '../watchlist';\nimport { HashRouter as Router, Route } from 'react-router-dom';\n//BrowserRouter\nimport PopupMain from '../popup/popup';\nimport {AuthProvider} from '../context/auth';\nimport Search from '../search';\nimport {FavouriteProvider} from '../context/favourite';\n\n\nconst App = () =>{\n    //add history to history.back\n    return(\n        <AuthProvider>\n            <Router>\n            <React.Fragment>\n                <FavouriteProvider>\n                    <Route path='/' exact component={Main}/>\n                    <Route path='/favourite' exact component={Favourite}/>\n                    <Route path='/watchlist' exact component={Watchlist}/>\n                    <Route path='/search/' exact render={({history})=>{\n                    return <Search history={history}/>;\n                    }}/>\n                    <Route path='/search/:input' exact\n                    render={({match,history})=>{\n                        const { input } = match.params;\n                        return <Search definput={input} history={history}/>;\n                    }}/>\n                </FavouriteProvider>\n                <Route path='/tv/:id' exact\n                render={({match,location})=>{\n                    const { id } = match.params;\n                    return <PopupMain id={id} mediaType={'tv'} location={location}/>;\n                }}/>\n                <Route path='/movie/:id' exact\n                render={({match,location})=>{\n                    const { id } = match.params;\n                    return <PopupMain id={id} mediaType={'movie'} location={location}/>;\n                }}/>\n            </React.Fragment>\n            </Router>\n        </AuthProvider>\n    );\n};\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n\nReactDOM.render(<App />,document.getElementById('root'));"],"sourceRoot":""}