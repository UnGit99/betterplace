{"version":3,"sources":["components/nav/google.svg","services/theMovieDB.js","services/localStorage.js","config/firebase.js","services/firebase.js","components/loading/translator-list.js","components/loading/season-list.js","components/loading/player.js","components/loading/fullscreen.js","components/context/auth.js","components/context/favourite.js","components/main/main-list.js","components/main/main-continue__list.js","components/main/main-continue.js","components/main/main-top.js","components/main/main-recommend.js","components/nav/nav-auth.js","components/nav/nav.js","components/nav/index.js","components/main/index.js","components/main/main.js","components/favourite/index.js","components/favourite/favourite.js","components/watchlist/index.js","components/watchlist/watchlist.js","services/rezka.js","components/player/index.js","components/player/film-player.js","components/error-boundary/index.js","components/resources/main-res.js","components/popup/popup.js","components/search/search.js","components/search/index.js","components/app/index.js","index.js"],"names":["module","exports","_apiKey","_baseUrl","_ruLang","findTrendTV","a","fetch","then","res","json","data","results","map","_transfromMulti","slice","promise","wrapPromise","result","status","suspender","err","read","item","id","toString","name","title","type","media_type","poster","poster_path","backdrop","backdrop_path","backdropOriginal","description","overview","releaseDate","release_date","originalName","original_name","original_title","_noActor","object","filter","el","undefined","known_for_department","addLatest","latest","localStorage","getItem","itemData","ll","JSON","stringify","Set","split","join","setItem","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","firebase","db","provider","GoogleAuthProvider","GetAllFavoutiresTest","uid","collection","doc","get","docs","GetTvTimeTest","orderBy","GetMovieTimeTest","GetWatchlistTest","TranslatorListLoading","className","SeasonListLoading","PlayerLoading","FullScreen","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","authIsReady","setAuthIsReady","continueData","setContinueData","useEffect","auth","onAuthStateChanged","user","fetchOne","fetchTwo","fetchThree","movieService","Promise","all","Provider","value","continueS","FavouriteContext","FavouriteProvider","useContext","fav","setFav","watch","setWatch","unmounted","CardDominant","hover","setHover","dominantColor","setDominantColor","toggleHover","fac","FastAverageColor","img","Image","crossOrigin","src","getColorAsync","ignoredColor","color","rgba","destroy","hoverStyle","boxShadow","borderRadius","style","onMouseEnter","onMouseLeave","to","onClick","localService","Fragment","alt","FavouriteIcon","delFavourite","x","addFavourite","concat","find","icon","faHeart","delete","DeleteFavourite","reHeart","set","date","Timestamp","now","SetFavourite","WatchIcon","watchExist","delWatch","addWatch","faEyeSlash","DeleteWatch","faEye","SetWatch","MainList","resource","history","length","key","Item","gradientWidth","parseInt","time","endTime","pathname","state","width","InfoTV","season","episode","ContinueList","open","setOpen","seeAllText","setSeeAllText","text__seeAll","faLongArrowAltRight","TV","context","Movie","MainContinue","CardMini","handleClick","MainTop","clicked","setClicked","MainRecommend","popular","localData","parse","fallback","LoggedIn","props","firstName","displayName","photoURL","NavItem","active","setActive","NavItemDropdown","signOut","NavAuth","googleLogo","signInWithPopup","ShorterLink","exact","reverse","autoReverse","activeClassName","Nav","faHome","faSearch","Main","Favourite","Watchlist","cheerio","require","_getProxy","_cdnSeries","Video","url","receiveMessage","event","duration","window","addEventListener","loop","setInterval","resid","translator","SetTvTime","removeEventListener","clearInterval","allowFullScreen","allowtransparency","Player","video","method","headers","body","getVideo","movie","FilmPlayer","console","log","SetMovieTime","ErrorBoundary","hasError","error","info","this","Component","Search","translators","query","encodeURIComponent","contents","regex","newData","match","substr","$","load","push","replace","each","index","element","attr","text","findTranslators","Translators","setTranslator","episodes","CHRepisodes","CHRseasons","seasons","lenghtOfSeasonsAndCounter","i","e","getSeasonsSeries","movieData","handleTranslator","ListOfTranslators","handleActive","ListOfEpisodes","activeSeason","setActiveSeason","activeEpisode","setActiveEpisode","setVideo","DropdownButton","drop","eSecond","Dropdown","handleVideo","MainView","selected","search","ContinueDataTest","mediaType","ifContinue","tv","Popup","Resources","setRes","Switcher","PopupMain","location","GetContinueTV","GetContinueMovie","SearchList","input","searchMulti","MainSearchForm","handle","autoFocus","placeholder","onChange","withRouter","definput","setInput","target","App","path","component","render","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.375b98aa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/google.09aea0f5.svg\";","const _apiKey = '?api_key=51d93e8a2a1a27a409fc155a8ece4e79';\nconst _baseUrl = 'https://api.themoviedb.org/3/';\nconst _ruLang = '&language=ru-RU';\nconst _noAdult = '&include_adult=false';\nconst posterpath = 'https://image.tmdb.org/t/p/w500';\nconst backdroppathWorst = 'https://image.tmdb.org/t/p/w1066_and_h600_bestv2';\nconst backdroppathOriginal = 'https://image.tmdb.org/t/p/original';\n\nconst getTV = (query) =>{\n    const promise = fetch(`${_baseUrl}tv/${query}${_apiKey}${_ruLang}`)\n        .then(res=>res.json())\n        .then(_transfromMulti);\n    \n    return wrapPromise(promise);\n};\n\nconst getMovie = (query) =>{\n    const promise = fetch(`${_baseUrl}movie/${query}${_apiKey}${_ruLang}`)\n        .then(res=>res.json())\n        .then(_transfromMulti);\n    \n    return wrapPromise(promise);\n};\n\nconst searchMulti = (query) =>{\n    const promise = fetch(`${_baseUrl}search/multi${_apiKey}${_ruLang}&query=${query}&page=1${_noAdult}`)\n        .then(res=>res.json())\n        .then(data=>_noActor(data.results).map(_transfromMulti)\n                    .slice(0, 30));\n    \n    return wrapPromise(promise);\n};\n\nconst findPopular = () =>{\n    const promise = fetch(`${_baseUrl}trending/all/week${_apiKey}${_ruLang}`)\n        .then(res=>res.json())\n        .then(data=>data.results.map(_transfromMulti)\n                    .slice(0, 10));\n    \n    return wrapPromise(promise);\n};\n\nconst findTrendTV = async () =>{\n    const promise = await fetch(`${_baseUrl}trending/tv/day${_apiKey}${_ruLang}`)\n        .then(res=>res.json())\n        .then(data=>data.results.map(_transfromMulti)\n                    .slice(0, 3));\n    \n    return promise;\n};\n\nconst wrapPromise = (promise) => {\n    let status = 'pending';\n    let result;\n    const suspender = promise.then(\n        (res)=>{\n            status = 'success';\n            result = res;\n        },\n        (err) =>{\n            status = 'error';\n            result = err;\n        }\n    );\n    const read = () => {\n        switch (status) {\n          case 'pending':\n            throw suspender\n          case 'error':\n            throw result\n          default:\n            return result\n        };\n    };\n    return{read};\n};\n\nconst _transfromMulti = (item) =>{\n    return{\n        id: item.id.toString(),\n        //id: item.id\n        name: item.name || item.title,\n        // title: item.title,\n        type: item.media_type,\n        poster: item.poster_path ? `${posterpath}${item.poster_path}` : null,\n        backdrop: `${backdroppathWorst}${item.backdrop_path}`,\n        backdropOriginal: `${backdroppathOriginal}${item.backdrop_path}`,\n        description: item.overview,\n        releaseDate: item.release_date,\n        originalName: item.original_name || item.original_title,\n        // originalTitle: item.original_title\n    }\n};\n\nconst _noActor = (object) =>{\n    return object.filter((el)=>{\n        return el.known_for_department === undefined;\n    });\n};\n\nexport{\n    searchMulti,\n    findPopular,\n    getTV,\n    getMovie,\n    findTrendTV\n};","const addLatest = (item) =>{\n    let latest = localStorage.getItem('Latest');\n    const itemData = {\n        id: item.id,\n        name: item.name,\n        type: item.type,\n        poster: item.poster\n    };\n    if(latest !== null){\n        const ll = `${JSON.stringify(itemData)}[[[${latest}`;\n        latest = [...new Set(ll.split('[[['))].slice(0,3).join('[[[');\n        localStorage.setItem('Latest', latest);\n    }else{\n        localStorage.setItem('Latest', JSON.stringify(itemData));\n    };\n};\n\nconst getLatest = () =>{\n    const latest = localStorage.getItem('Latest');\n    if(latest){\n        return latest.split('[[[',3).map(item=>JSON.parse(item));\n    }else{\n        return [];\n    }  \n};\n\nexport{\n    addLatest,\n    getLatest\n};","const config = {\n    apiKey: \"AIzaSyCqmz-NyGg2BH34Y2vBwxU0v46M2qsBguY\",\n    authDomain: \"betterplace-74705.firebaseapp.com\",\n    databaseURL: \"https://betterplace-74705.firebaseio.com\",\n    projectId: \"betterplace-74705\",\n    storageBucket: \"betterplace-74705.appspot.com\",\n    messagingSenderId: \"1019430392067\",\n    appId: \"1:1019430392067:web:e07b8ba6ac55da364bd936\",\n    measurementId: \"G-04PYDHKL22\"\n};\n\nexport default config;","import * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\nimport config from '../config/firebase';\n//import {useState,useMemo,useEffect,useCallback} from 'react';\n\nconst app = firebase.initializeApp(config);\nconst db = firebase.firestore();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\n/*const useRequest = (request) =>{\n    const initialState = useMemo(()=>({\n        data: null,\n        loading: true,\n        error: null\n    }),[]);\n\n    const [ dataState , setDataState ] = useState(initialState);\n\n    useEffect(()=>{\n        setDataState(initialState);\n        let cancelled = false;\n        request()\n            .then(data=>!cancelled && setDataState({\n                data,\n                loading:false,\n                error:null\n            }))\n            .catch(error=>!cancelled && setDataState({\n                data: null,\n                loading: false,\n                error\n            }));\n        return () => cancelled = true;\n    },[request, initialState]);\n\n    return dataState;\n};*/\n\nconst GoogleSignUp = () => {\n    firebase.auth().signInWithPopup(provider);\n};\nconst SignOut = () => {\n    app.auth().signOut();\n};\n\nconst GetAllFavoutiresTest = async (uid) =>{\n    const promise = await db.collection('continueData').doc(uid).collection('favourite').get()\n        .then(data =>\n            data.docs.map(doc => doc.data())\n        );\n    return promise;\n}\n\nconst DeleteFavourite = (uid,item) =>{\n    const { id } = item;\n    return db.collection('continueData').doc(uid).collection('favourite').doc(id).delete()\n};\n\nconst SetFavourite = (uid,item) =>{\n    const { id,type,name,poster } = item;\n    // const userId = firebase.auth().currentUser.uid;\n    return db.collection('continueData').doc(uid).collection('favourite').doc(id).set({\n        id,\n        type,\n        name,\n        poster,\n        date: firebase.firestore.Timestamp.now()\n    });\n};\n\nconst SetMovieTime = (uid,type,id,resid,time,translator,resource,name,poster,endTime) =>{\n    // const userId = firebase.auth().currentUser.uid;\n    return db.collection('continueData').doc(uid).collection(type).doc(id).set({\n        id,\n        resid,\n        type,\n        translator,\n        time,\n        resource,\n        date: firebase.firestore.Timestamp.now(),\n        name,\n        poster,\n        endTime\n    });\n};\n\nconst SetTvTime = (uid,type,id,resid,season,episode,time,translator,resource,name,poster,endTime) =>{\n    // const userId = firebase.auth().currentUser.uid;\n    return db.collection('continueData').doc(uid).collection(type).doc(id).set({\n        id,\n        resid,\n        type,\n        translator,\n        season,\n        episode,\n        time,\n        resource,\n        date: firebase.firestore.Timestamp.now(),\n        name,\n        poster,\n        endTime\n    });\n};\n\nconst Favourite = (uid,id,handleFavourite) =>{\n    const data = db.collection('continueData').doc(uid).collection('favourite').doc(id).get()\n    .then(data => {\n        data.data();\n        if(data.data() !== undefined){\n            handleFavourite();\n        };\n        })\n    return data;\n};\n\nconst GetContinueTV = (uid,id) =>{\n    const promise = db.collection('continueData').doc(uid).collection('tv').doc(id).get()\n        .then(data => {\n            if(data.data()){\n                return data.data()\n            }else{\n                return null;\n            }})\n    return wrapPromise(promise);\n}\n\nconst GetContinueMovie = (uid,id) =>{\n    const promise = db.collection('continueData').doc(uid).collection('movie').doc(id).get()\n        .then(data => {\n            if(data.data()){\n                return data.data()\n            }else{\n                return null;\n            }})\n    return wrapPromise(promise);\n}\n\nconst GetTvTimeTest = async (uid) =>{\n    const promise = await db.collection('continueData').doc(uid).collection('tv').orderBy(\"date\", \"desc\")\n    .get().then(data =>\n        data.docs.map(doc => doc.data())\n    );\n    //asc\n    return promise;\n};\n\nconst GetMovieTimeTest = async (uid) =>{\n    const promise = await db.collection('continueData').doc(uid).collection('movie').orderBy(\"date\", \"desc\")\n    .get().then(data =>\n        data.docs.map(doc => doc.data())\n    );\n    //asc\n    return promise;\n};\n\nconst wrapPromise = (promise) => {\n    let status = 'pending';\n    let result;\n    const suspender = promise.then(\n        (res)=>{\n            status = 'success';\n            result = res;\n        },\n        (err) =>{\n            status = 'error';\n            result = err;\n        }\n    );\n    const read = () => {\n        switch (status) {\n          case 'pending':\n            throw suspender\n          case 'error':\n            throw result\n          default:\n            return result\n        };\n    };\n    return{read};\n};\n\nconst GetWatchlistTest = async (uid) =>{\n    const promise = await db.collection('continueData').doc(uid).collection('watchlist').get()\n        .then(data =>\n            data.docs.map(doc => doc.data())\n        );\n    return promise;\n}\n\nconst DeleteWatch = (uid,item) =>{\n    const { id } = item;\n    return db.collection('continueData').doc(uid).collection('watchlist').doc(id).delete()\n};\n\nconst SetWatch = (uid,item) =>{\n    const { id,type,name,poster } = item;\n    // const userId = firebase.auth().currentUser.uid;\n    return db.collection('continueData').doc(uid).collection('watchlist').doc(id).set({\n        id,\n        type,\n        name,\n        poster,\n        date: firebase.firestore.Timestamp.now()\n    });\n};\n\nexport{\n    app,\n    GoogleSignUp,\n    SignOut,\n    SetTvTime,\n    GetContinueTV,\n    GetContinueMovie,\n    SetMovieTime,\n    SetFavourite,\n    DeleteFavourite,\n    Favourite,GetAllFavoutiresTest,\n    GetTvTimeTest,GetMovieTimeTest,\n    GetWatchlistTest,\n    SetWatch,DeleteWatch\n};","import React from 'react';\nimport './loading.scss';\n\nconst TranslatorListLoading = () =>{\n    return(\n        <div className=\"mt-4\">\n            <div className=\"brdt mb-4\"></div>\n            <div className=\"service-content text-light loading-main\">\n                <div className='text-block-loading mb-4'></div>\n                <ul className=\"loading-ul list-group list-group-horizontal-sm mb-4\">\n                    <li className='list-group-item'></li>\n                    <li className='list-group-item'></li>\n                    <li className='list-group-item'></li>\n                </ul>\n            </div>\n        </div>\n    );\n};\n\nexport default TranslatorListLoading;","import React from 'react';\nimport './loading.scss';\n\nconst SeasonListLoading = () =>{\n    return(\n        <div className=\"loading-main text-light mb-3\">\n            <div className=\"mb-4 text-block-loading\"></div>\n            <div className=\"flex\">\n                <div className=\"mr-2 dropdown loading-dropdown\">\n                    <div className=\"loading-div-season\"></div>\n                </div>\n                <div className=\"mr-2 dropdown loading-dropdown\">\n                    <div className=\"loading-div-season\"></div>\n                </div>\n                <div className=\"mr-2 dropdown loading-dropdown\">\n                    <div className=\"loading-div-season\"></div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default SeasonListLoading;","import React from 'react';\nimport './loading.scss';\n\nconst PlayerLoading = () =>{\n    return(\n        <div className=\"loading-main loading-player\">\n        </div>\n    );\n};\n\nexport default PlayerLoading;","import React from 'react';\nimport './loading.scss';\n\nconst FullScreen = () =>{\n    return(\n        <div className=\"auth-loading\">\n            <h1 className=\"auth-loading__title\">Better Place</h1>\n        </div>\n    );\n};\n\nexport default FullScreen;","import React,{useEffect,useState} from 'react';\nimport {app,GetTvTimeTest,GetMovieTimeTest} from '../../services/firebase';\nimport {FullScreen} from '../loading';\nimport * as movieService from '../../services/theMovieDB';\n\nconst AuthContext = React.createContext();\n\nconst AuthProvider = ({children}) =>{\n    const [currentUser,setCurrentUser] = useState(null);\n    const [authIsReady,setAuthIsReady] = useState(false);\n    const [continueData,setContinueData] = useState(null);\n    useEffect(()=>{\n        app.auth().onAuthStateChanged((user)=>{\n            setCurrentUser(user);\n            setAuthIsReady(true);\n        })\n    },[]);\n    if(authIsReady && !continueData){\n        const fetchOne = GetTvTimeTest(currentUser.uid);\n        const fetchTwo = GetMovieTimeTest(currentUser.uid);\n        const fetchThree = movieService.findTrendTV();\n        Promise.all([fetchOne,fetchTwo,fetchThree]).then(data=>setContinueData(data));\n    }\n    if(currentUser && continueData){\n        return(\n            <AuthContext.Provider\n                value={{\n                    currentUser,\n                    continueS: continueData\n                }}\n            >{children}\n            </AuthContext.Provider>\n        )\n    }\n    if(!currentUser && continueData){\n        return(\n            <AuthContext.Provider\n                value={{\n                    currentUser,\n                    continueS: []\n                }}\n            >{children}\n            </AuthContext.Provider>\n        )\n    }\n    return <FullScreen/>;\n};\n\nexport{\n    AuthProvider,\n    AuthContext\n}","import React,{useEffect,useState,useContext} from 'react';\nimport {GetAllFavoutiresTest,GetWatchlistTest} from '../../services/firebase';\nimport {AuthContext} from './auth';\n\nconst FavouriteContext = React.createContext();\n\nconst FavouriteProvider = ({children}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const[fav,setFav] = useState(null);\n    const[watch,setWatch] = useState(null);\n    useEffect(()=>{\n        let unmounted = false;\n        if(currentUser){\n            const fetchOne = GetAllFavoutiresTest(currentUser.uid);\n            const fetchTwo = GetWatchlistTest(currentUser.uid);\n            Promise.all([fetchOne,fetchTwo])\n                .then(data=>{if(!unmounted){setFav(data[0]);setWatch(data[1])}});\n        }return () => { unmounted = true };\n    },[currentUser]);\n    if(fav){\n        return (<FavouriteContext.Provider\n            value={{\n                fav,setFav,\n                watch,setWatch\n            }}\n        >{children}\n        </FavouriteContext.Provider>)\n    }\n    if(!currentUser){\n        return (<FavouriteContext.Provider\n            value={{\n                fav,setFav,\n                watch,setWatch\n            }}\n        >{children}\n        </FavouriteContext.Provider>)\n    }\n    return false\n};\n\nexport{\n    FavouriteProvider,\n    FavouriteContext\n}","import React, { useContext,useState, useEffect } from 'react';\nimport {AuthContext} from '../context/auth';\nimport * as localService from '../../services/localStorage';\nimport { Link } from 'react-router-dom';\nimport FastAverageColor from 'fast-average-color';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart ,faEye, faEyeSlash} from '@fortawesome/free-solid-svg-icons';\nimport { faHeart as reHeart}  from '@fortawesome/free-regular-svg-icons';\nimport { SetFavourite,DeleteFavourite,SetWatch,DeleteWatch } from '../../services/firebase';\n//import { CSSTransition } from 'react-transition-group';\nimport {FavouriteContext} from '../context/favourite';\n\nconst MainList = ({promise,resource = null,title = false,history}) =>{\n    resource = promise ? promise.read() : resource;\n\n    if(resource.length !== 0){return(\n        <div className=\"main-list\">\n            <h3 className=\"main-list__title\">{title}</h3>\n            <div className=\"main-list__grid\">\n                {resource.map((item)=><CardDominant key={item.id} item={item}/>)}\n            </div>\n        </div>\n    )}else return false;\n};\n\nconst CardDominant = ({item}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const[hover,setHover] = useState(false);\n    const[dominantColor,setDominantColor] = useState('');\n    const toggleHover = () => {\n        setHover(!hover);\n    };\n    useEffect(()=>{\n        const fac = new FastAverageColor();\n        if(item.poster !== null){\n            const img = new Image();\n            img.crossOrigin = \"anonymous\";\n            img.src = item.poster;\n            fac.getColorAsync(img, {\n                ignoredColor: [0, 0, 0, 255] // black\n            }).then(function(color) {\n                setDominantColor(`0 0 5rem 0.4rem ${color.rgba}`);\n            });\n        };\n        return function cleanup(){\n            fac.destroy();\n        };\n    },[item]);\n    const hoverStyle = hover ? {boxShadow: dominantColor,borderRadius: '4%'} : {};\n\n    return (\n        <div className=\"main-list__card\" style={hoverStyle}\n        onMouseEnter={toggleHover}\n        onMouseLeave={toggleHover}>\n            <Link className=\"main-list__link\"\n                to={`/${item.type}/${item.id}`}\n                onClick={()=>localService.addLatest(item)}/>\n            <div className=\"main-list__shadow\"/>\n            {currentUser ? \n                    <React.Fragment>\n                        <FavouriteIcon item={item}/>\n                        <WatchIcon item={item}/>\n                    </React.Fragment>\n                 : false}\n            <img className=\"main-list__poster\" alt=\"\" src={item.poster}/>\n            <p className=\"main-list__name\">{item.name}</p>\n        </div>\n    )\n}\n\nconst FavouriteIcon = ({item}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const {fav,setFav} = useContext(FavouriteContext);\n    const delFavourite = fav.filter(x=>x.id!==item.id);\n    const addFavourite = [...fav].concat(item);\n    return(\n        <div className=\"main-list__favourite\">\n            {fav.find(x=>x.id===item.id) ? \n                <FontAwesomeIcon icon={faHeart} className=\"main-list__favIcon\"\n                color=\"pink\"\n                onClick={()=>{\n                    DeleteFavourite(currentUser.uid,item);\n                    setFav(delFavourite);\n                }}/> \n            :   \n            <FontAwesomeIcon icon={reHeart} className=\"main-list__favIcon\"\n            color=\"pink\"\n            onClick={()=>{\n                SetFavourite(currentUser.uid,item);\n                setFav(addFavourite);\n            }}/>\n            }\n        </div>\n    )\n}\n\nconst WatchIcon = ({item}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const {watch,setWatch} = useContext(FavouriteContext);\n    const watchExist = watch ? watch.find(x=>x.id===item.id) : null;\n    const delWatch = watch ? watch.filter(x=>x.id!==item.id) : null;\n    const addWatch = watch ? [...watch].concat(item) : null;\n    return(\n        <div className=\"main-list__watchlist\">\n            {watchExist ? \n                <FontAwesomeIcon icon={faEyeSlash} className=\"main-list__watchIcon\"\n                color=\"pink\"\n                onClick={()=>{\n                    DeleteWatch(currentUser.uid,item);\n                    setWatch(delWatch);\n                }}/> \n            :   \n            <FontAwesomeIcon icon={faEye} className=\"main-list__watchIcon\"\n            color=\"pink\"\n            onClick={()=>{\n                SetWatch(currentUser.uid,item);\n                setWatch(addWatch);\n            }}/>\n            }\n        </div>\n    )\n}\n\n/*\n\n{favouriteLocal ? \n            <CSSTransition \n            in={favouriteLocal}\n            timeout={300}\n            classNames=\"fav-icon\">\n                <FontAwesomeIcon icon={faHeart} className=\"main-list__favIcon\"\n                color=\"pink\"\n                onClick={()=>{\n                    setFavouriteLocal(!favouriteLocal);\n                    DeleteFavourite(currentUser.uid,item);\n                    const dd = fav.filter(x=>x.id!==item.id);\n                    console.log(dd);\n                    setFav(dd);\n                }}/> \n            </CSSTransition>\n            :   \n            <CSSTransition \n            in={favouriteLocal}\n            timeout={300}\n            classNames=\"fav-icon\">\n                <FontAwesomeIcon icon={reHeart} className=\"main-list__favIcon\"\n                color=\"pink\"\n                onClick={()=>{\n                    setFavouriteLocal(!favouriteLocal);\n                    SetFavourite(currentUser.uid,item);\n                    const dds = [...fav].concat(item);\n                    setFav(dds);\n                }}/>\n            </CSSTransition>\n            }\n\n\n*/\n\nexport default MainList;","import React, { useState } from 'react';\nimport * as localService from '../../services/localStorage';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLongArrowAltRight } from '@fortawesome/free-solid-svg-icons';\n\nconst ContinueList = ({promise,resource = null,title,history}) =>{\n    resource = promise ? promise.read() : resource;\n    const[open,setOpen] = useState(false);\n    const[seeAllText,setSeeAllText] = useState(false);\n    const handleOpen = () =>{\n        setOpen(!open);\n        setSeeAllText(!seeAllText);\n    };\n    const text__seeAll = seeAllText ? 'Скрыть все ' : 'Показать все ';\n\n    return(\n        <div className=\"continue-list__block\">\n            <div className=\"continue-list__header\">\n                <h4 className=\"continue-list__subTitle\">{title}</h4>\n                {resource.length > 5 ?\n                    <p className=\"continue-list__seeAll\"\n                    onClick={handleOpen}>\n                    {text__seeAll}<FontAwesomeIcon icon={faLongArrowAltRight}/>\n                    </p> \n                : false}\n            </div>\n            <div className=\"continue-list__grid\">\n                {resource.slice(0,5).map((item)=>(\n                    <Item item={item} key={item.id}/>\n                ))}\n                {open && resource.slice(5).map((item)=>(\n                    <Item item={item} key={item.id}/>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst Item = ({item}) =>{\n    const gradientWidth = parseInt(item.time / item.endTime * 100);\n    return(\n        <div className=\"continue-list__card\">\n            <Link className=\"continue-list__link\" to={{\n                pathname: `/${item.type}/${item.id}`,\n                state: {\n                    item\n                }\n            }} onClick={()=>localService.addLatest(item)}/>\n            <img className=\"continue-list__poster\" alt=\"\" src={item.poster}/>\n            <div className=\"continue-list__info\">\n                <p className=\"continue-list__name\">{item.name}</p>\n                {<InfoTV item={item}/>}\n                <div className=\"continue-list__status\">\n                    <span className=\"continue-list__gradient\" \n                    style={{width: `${gradientWidth}%`}}/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst InfoTV = ({item}) =>{\n    if(item.season)return(\n        <div className=\"continue-list__tv\">\n            <p className=\"continue-list__subtext\">Сезон {item.season}</p>\n            <p className=\"continue-list__subtext\">Эпизод {item.episode}</p>\n        </div>\n    ); return false\n}\n\nexport default ContinueList;","import React,{useContext} from 'react';\nimport ContinueList from './main-continue__list';\nimport {AuthContext} from '../context/auth';\n\nconst MainContinue = () =>{\n    const {continueS} = useContext(AuthContext);\n    if(continueS[0].length || continueS[1].length)return(\n        <div className=\"continue-list\">\n            <h3 className=\"continue-list__title\">Продолжить</h3> \n            <TV context={continueS}/>\n            <Movie context={continueS}/>\n        </div>\n    );return false;\n};\n\nconst TV = ({context}) =>{\n    if(context[0].length)return<ContinueList title={'Сериалы'} resource={context[0]}/>\n    return false;\n}\n\nconst Movie = ({context}) =>{\n    if(context[1].length)return<ContinueList title={'Фильмы'} resource={context[1]}/>\n    return false;\n}\n\nexport default MainContinue;","import React, { useState, useEffect } from 'react';\nimport * as localService from '../../services/localStorage';\nimport { Link } from 'react-router-dom';\nimport FastAverageColor from 'fast-average-color';\n\nconst MainTop = ({promise,resource = null,title = false,history}) =>{\n    resource = promise ? promise.read() : resource;\n    const[clicked,setClicked] = useState(resource[0].id);\n    const handleClick = (item) => setClicked(item.id);\n\n    if(resource.length !== 0){return(\n        <div className=\"main-top\">\n            <div className=\"main-top__grid\">\n                {resource.map((item)=>{\n                if(item.id===clicked)return<CardDominant key={item.id} item={item}/>\n                return false})}\n                {resource.map((item)=>\n                <CardMini key={item.id} item={item} handleClick={handleClick}/>)}\n            </div>\n        </div>\n    )}return false;\n};\n\nconst CardDominant = ({item}) =>{\n    const[dominantColor,setDominantColor] = useState('');\n    useEffect(()=>{\n        const fac = new FastAverageColor();\n        if(item.backdrop !== null){\n            const img = new Image();\n            img.crossOrigin = \"anonymous\";\n            img.src = item.backdrop;\n            fac.getColorAsync(img, {\n                ignoredColor: [0, 0, 0, 255] // black\n            }).then(function(color) {\n                setDominantColor(`0 0 30rem 3rem ${color.rgba}`);\n            });\n        };\n        return function cleanup(){\n            fac.destroy();\n        };\n    },[item]);\n    const hoverStyle = {boxShadow: dominantColor,borderRadius: '4%'};\n\n    return (\n        <div className=\"main-top__card\" style={hoverStyle}>\n            <Link className=\"main-top__link\"\n                to={`/${item.type}/${item.id}`}\n                onClick={()=>localService.addLatest(item)}/>\n            <div className=\"main-top__shadow\"/>\n            <img className=\"main-top__backdrop\" alt=\"\" src={item.backdropOriginal}/>\n            <h1 className=\"main-top__name\">{item.name}</h1>\n        </div>\n    );\n};\n\nconst CardMini = ({item,handleClick}) =>{\n    return (\n        <div className=\"main-top__card-mini\" onClick={()=>handleClick(item)}>\n            <div className=\"main-top__shadow-mini\"/>\n            <img className=\"main-top__backdrop\" alt=\"\" src={item.backdrop}/>\n            <h1 className=\"main-top__name-mini\">{item.name}</h1>\n        </div>\n    );\n};\n\nexport default MainTop;","import React,{Suspense,useContext} from 'react';\nimport * as movieService from '../../services/theMovieDB';\nimport * as localService from '../../services/localStorage';\nimport MainList from './main-list';\nimport MainContinue from './main-continue';\nimport MainTop from './main-top';\nimport {AuthContext} from '../context/auth';\n\nconst MainRecommend = () =>{\n    const {currentUser,continueS} = useContext(AuthContext);\n    const popular = movieService.findPopular();\n    const localData = localService.getLatest();\n    return(\n        <div className=\"container\">\n            {continueS[2] ? <MainTop resource={continueS[2]}/> : false}\n            {currentUser ? <MainContinue/> : false}\n            {localData[0] ? <MainList resource={localData} title={'Недавние'}/> : false}\n            <Suspense fallback={<h3>Loading</h3>}>\n                <MainList promise={popular} title={'Популярное'}/>\n            </Suspense>\n        </div>\n    );\n};\n\nexport default MainRecommend;","import React, { useContext, useState } from 'react';\nimport {AuthContext} from '../context/auth';\nimport {GoogleSignUp,SignOut} from '../../services/firebase';\nimport googleLogo from './google.svg';\n\nconst NavAuth = (props) =>{\n    const {currentUser} = useContext(AuthContext);\n    return(\n        currentUser ? <LoggedIn props={props.children}/> : \n        <li className=\"nav__item\">\n            <img src={googleLogo} alt='' className='nav__auth' \n            onClick={() => GoogleSignUp()}/>\n        </li>\n    )\n};\n\nconst LoggedIn = ({props}) =>{\n    const {currentUser} = useContext(AuthContext);\n    const firstName = currentUser.displayName.split(\" \")[0];\n    return(\n        <React.Fragment>\n            {props}\n            <NavItem icon={currentUser.photoURL} title={firstName}>\n                <NavItemDropdown/>\n            </NavItem>\n        </React.Fragment>\n    );\n};\n\nconst NavItem = ({icon,title,...props}) =>{\n    const[open,setOpen] = useState(false);\n    const[active,setActive] = useState(false);\n    const handleClick = () =>{\n        setOpen(!open);\n        setActive(!active);\n    }\n    return(\n        <li className=\"nav__item\" onClick={handleClick}>\n            <img className=\"nav__auth\" alt='' src={icon}/>\n            <span className=\"nav__name\">{title}</span>\n            {open && props.children}\n        </li>\n    );\n};\n\nconst NavItemDropdown = () =>{\n    return(\n        <div className=\"nav__dropdown\">\n            <span onClick={()=>SignOut()}>Выйти</span>\n        </div>\n    );\n};\n\nexport default NavAuth;","import React from 'react';\nimport NavAuth from './nav-auth';\nimport {NavLink} from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart,faSearch,faHome,faEye } from '@fortawesome/free-solid-svg-icons'\nimport './nav.scss';\n\nconst Nav = () =>{\n    return(\n        <nav className=\"nav container\">\n            <ul className=\"nav__list\">\n                <li className=\"nav__item\">\n                    <ShorterLink to={'/'}>\n                    <FontAwesomeIcon className=\"nav__icon\" icon={faHome}/>Главная\n                    </ShorterLink>\n                </li>\n                <li className=\"nav__item\">\n                    <ShorterLink to={'/search'} exact={false}>\n                        <FontAwesomeIcon className=\"nav__icon\" icon={faSearch}/>Поиск\n                    </ShorterLink>\n                </li>\n            </ul>\n            <ul className=\"nav__list link-inverse\">\n                <NavAuth>\n                    <li className=\"nav__item\">\n                        <ShorterLink to={'/favourite'} reverse={false}>\n                            <FontAwesomeIcon icon={faHeart} className=\"nav__icon\"/>Избранные\n                        </ShorterLink>\n                    </li>\n                    <li className=\"nav__item\">\n                        <ShorterLink to={'/watchlist'} reverse={false}>\n                            <FontAwesomeIcon icon={faEye} className=\"nav__icon\"/>Watchlist\n                        </ShorterLink>\n                    </li>\n                </NavAuth>\n            </ul>\n        </nav>\n    );\n};\n\nconst ShorterLink = ({to,exact = true,reverse = true,...props}) =>{\n    const autoReverse = reverse ? \"nav__link--active\" : \"nav__link--active_reverse\";\n    return (\n        <NavLink className=\"nav__link\"\n            activeClassName={autoReverse} exact={exact}\n            to={to}>{props.children}\n        </NavLink>\n    )\n}\n\nexport default Nav;","import Nav from './nav';\n\nexport default Nav;","import Main from './main';\n\nexport default Main;","import React from 'react';\nimport './main.scss';\nimport MainRecommend from './main-recommend';\nimport Nav from '../nav';\n\nconst Main = () =>{\n    return(\n        <React.Fragment>\n            <Nav/>\n            <MainRecommend/>\n        </React.Fragment>\n    );\n};\n\nexport default Main;","import Favourite from './favourite';\n\nexport default Favourite;","import React,{useContext} from 'react';\nimport Nav from '../nav';\nimport {AuthContext} from '../context/auth';\nimport { Redirect } from 'react-router-dom';\nimport MainList from '../main/main-list';\nimport {FavouriteContext} from '../context/favourite';\n\n\nconst Favourite = () =>{\n    const {currentUser} = useContext(AuthContext);\n    const {fav} = useContext(FavouriteContext);\n    if(!currentUser) return <Redirect to='/'/>\n    if(fav)return(\n        <React.Fragment>\n            <Nav/>\n            <div className=\"container\">\n                <MainList resource={fav} title={'Избранные'}/>\n            </div>\n        </React.Fragment>\n    );return <Nav/>\n}\n\nexport default Favourite;","import Watchlist from './watchlist';\n\nexport default Watchlist;","import React,{useContext} from 'react';\nimport Nav from '../nav';\nimport {AuthContext} from '../context/auth';\nimport { Redirect } from 'react-router-dom';\nimport MainList from '../main/main-list';\nimport {FavouriteContext} from '../context/favourite';\n\n\nconst Watchlist = () =>{\n    const {currentUser} = useContext(AuthContext);\n    const {watch} = useContext(FavouriteContext);\n    if(!currentUser) return <Redirect to='/'/>\n    if(watch)return(\n        <React.Fragment>\n            <Nav/>\n            <div className=\"container\">\n                <MainList resource={watch} title={'Watchlist'}/>\n            </div>\n        </React.Fragment>\n    );return <Nav/>\n}\n\nexport default Watchlist;","const cheerio = require('cheerio');\n\nconst _searchUrl = 'https://rezka.ag/index.php?do=search&subaction=search&q=';\nconst _searchProxy = 'https://api.allorigins.win/get?url=';\n    // https://thingproxy.freeboard.io/fetch/\n    // https://api.allorigins.win/get?url=\nconst _getProxy = 'https://cors-anywhere.herokuapp.com/';\nconst _OneTranslator = 'Неизвестно';\nconst _cdnSeries = 'https://rezka.ag/ajax/get_cdn_series/';\n\nconst find = (query) =>{\n    const promise = fetch(`${_searchProxy}${encodeURIComponent(`${_searchUrl}${encodeURIComponent(query)}`)}`)\n        .then(res=>res.json())\n        .then(data=>{\n            if(data.contents){\n                const $ = cheerio.load(data.contents);\n                return $('.b-content__inline_item-cover > a').attr('href');\n            }else{\n                return data;\n            }});\n    return wrapPromise(promise);\n};\n\nconst findTranslators = (query) =>{\n    const promise = fetch(`${_searchProxy}${encodeURIComponent(query)}`)\n        .then(res=>res.json())\n        .then(data=>{\n            if(data.contents){\n                const translators = [];\n                let regex = '';\n                const newData = {\n                    translators,\n                    id: query.match(/\\/\\d+/g)[0].substr(1),\n                    movie: false\n                };\n                if(data.contents.match(/(initCDNMoviesEvents\\()([0-9]*), ([0-9]*)/g)){\n                    regex = (data.contents.match(/(initCDNMoviesEvents\\()([0-9]*), ([0-9]*)/g))[0].match(/\\d+/g)[1];\n                    newData.movie = true;\n                }else{\n                    regex = (data.contents.match(/(initCDNSeriesEvents\\()([0-9]*), ([0-9]*)/g))[0].match(/\\d+/g)[1];\n                };\n                const $ = cheerio.load(data.contents);\n                if(newData.movie){\n                    translators.push({\n                        id: regex,\n                        name: _OneTranslator,\n                        url: data.contents.match(/sof.tv.initCDNMoviesEvents(.*),\"default_quality\"/g)[0].match(/\\[(.*)\",/g)[0].slice(0, -2).replace(/\\\\/g,'')\n                        }\n                    );\n                }else{\n                    if($('.b-translator__item').length){\n                        $('.b-translator__item').each(function(index,element){\n                            translators.push({\n                                id: $(element).attr('data-translator_id'),\n                                name: $(element).text()\n                                }\n                            );\n                        });\n                    }else{\n                        translators.push({\n                            id: regex,\n                            name: _OneTranslator\n                            }\n                        );\n                    };\n                };\n                return newData;\n            }else{\n                return data;\n            }});\n\n    return wrapPromise(promise);\n};\n\nconst getSeasonsSeries = (query,data) =>{\n    const promise = fetch(`${_getProxy}${_cdnSeries}`,{\n        method: \"POST\",\n        headers: {\n            \"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n            //maybe fix issue \"Access-Control-Allow-Origin\": \"*\"\n        },\n        body: \"id=\"+data.id+\"&translator_id=\"+query+\"&action=get_episodes\"\n    })\n        .then(res=>res.json())\n        .then(data=>{\n                const CHRepisodes = cheerio.load(data.episodes.split('\\\\').join(''));\n                const CHRseasons = cheerio.load(data.seasons.split('\\\\').join(''));\n                let lenghtOfSeasonsAndCounter = parseInt(CHRseasons('li').attr('data-tab_id'));\n                const newData = [];\n                CHRseasons('li').each((i,e)=>{\n                    newData.push({\n                        season: parseInt(CHRseasons(e).attr('data-tab_id')),\n                        episodes: []\n                    });\n                });\n                CHRepisodes('.b-simple_episode__item').each((i,e)=>{\n                    const episode = CHRepisodes(e).attr('data-episode_id');\n                    if(parseInt(episode) <= 1 && i>0){\n                        lenghtOfSeasonsAndCounter++;\n                        newData.filter((e)=>{\n                            return e.season === lenghtOfSeasonsAndCounter;\n                        })[0].episodes.push(episode);\n                    }else{\n                        newData.filter((e)=>{\n                            return e.season === lenghtOfSeasonsAndCounter;\n                        })[0].episodes.push(episode);\n                    };\n                });\n                return newData;\n            });\n\n    return wrapPromise(promise);\n};\n\nconst getVideo = (data) =>{\n    const promise = fetch(`${_getProxy}${_cdnSeries}`,{\n        method: \"POST\",\n        headers: {\n            \"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\n        },\n        body: \"id=\"+data.resid+\"&translator_id=\"+data.translator+\"&season=\"+data.season+\"&episode=\"+data.episode+\"&action=get_stream\"\n    })\n        .then(res=>res.json())\n        .then(data=>data)\n\n    return wrapPromise(promise);\n};\n\nconst wrapPromise = (promise) => {\n    let status = 'pending';\n    let result;\n    const suspender = promise.then(\n        (res)=>{\n            status = 'success';\n            result = res;\n        },\n        (err) =>{\n            status = 'error';\n            result = err;\n        }\n    );\n    const read = () => {\n        switch (status) {\n          case 'pending':\n            throw suspender\n          case 'error':\n            throw result\n          default:\n            return result\n        };\n    };\n    return{read};\n};\n\nexport {\n    find,findTranslators,getSeasonsSeries,getVideo\n}","import React,{Suspense,useContext,useEffect} from 'react';\nimport {getVideo} from '../../services/rezka';\nimport {PlayerLoading} from '../loading';\nimport {AuthContext} from '../context/auth';\nimport {SetTvTime} from '../../services/firebase';\n/*        const interval = setInterval(function() {\n            console.log(playerjs.api(\"time\"));\n        }, 5000);\n*/\nconst Player = ({data}) =>{\n    const video = getVideo(data);\n    if(data.movie){\n        return <Video url={data.url}/>\n    }\n    return(\n        <Suspense fallback={<PlayerLoading/>}>\n            <Video promise={video} data={data}/>\n        </Suspense>\n    );\n}\n\nconst Video = ({promise,url,data}) =>{\n    const resource = promise.read();\n    const {currentUser} = useContext(AuthContext);\n    let time = 0.0;\n    let endTime = 0.0;\n    function receiveMessage(event){\n        if(currentUser){\n            time = event.data.time;\n            if(event.data.duration){endTime = event.data.duration};\n        };\n    };\n\n    useEffect(() => {\n        window.addEventListener('message', receiveMessage);\n        const loop = setInterval(function(){\n            if(currentUser){\n                SetTvTime(currentUser.uid,'tv',\n                data.id,data.resid,data.season,data.episode,\n                time,data.translator,data.res,\n                data.name,data.poster,endTime);\n            }\n        }, 2000);\n    \n        return () => {\n          window.removeEventListener('message', receiveMessage);\n          clearInterval(loop);\n        };\n    });\n\n    return(\n        <div className='playerjs'>\n            <iframe \n            id=\"playerplayer\"\n            title='playerjs'\n            allowFullScreen\n            className='player fade-in'\n            src={'/playerjs.html?file='+(resource.url || url)+(data.time ? `&start=${data.time}` : '')}\n            type='text/html'\n            allowtransparency='true'\n            />\n        </div>\n    );\n}\nexport default Player;","import React,{useContext,useEffect} from 'react';\nimport {AuthContext} from '../context/auth';\nimport {SetMovieTime} from '../../services/firebase';\n\nconst FilmPlayer = ({url,data}) =>{\n    const {currentUser} = useContext(AuthContext);\n    let time = 0.0;\n    let endTime = 0.0;\n    function receiveMessage(event){\n        if(currentUser){\n            time = event.data.time;\n            if(event.data.duration){endTime = event.data.duration};\n        };\n    };\n    console.log(url);\n\n    useEffect(() => {\n        window.addEventListener('message', receiveMessage);\n        const loop = setInterval(function(){\n            if(currentUser){\n                SetMovieTime(currentUser.uid,'movie',\n                data.id,data.resid,\n                time,data.translator,data.res,\n                data.name,data.poster,endTime);\n            }\n        }, 2000);\n    \n        return () => {\n          window.removeEventListener('message', receiveMessage);\n          clearInterval(loop);\n        };\n    });\n\n    return(\n        <div className='playerjs'>\n            <iframe\n            id=\"playerplayer\"\n            title='playerjs'\n            allowFullScreen\n            className='player fade-in'\n            src={'/playerjs.html?file='+url+(data.time ? `&start=${data.time}` : '')}\n            type='text/html'\n            allowtransparency='true'\n            />\n        </div>\n    );\n}\n\nexport default FilmPlayer;","import React,{Component} from 'react';\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, info) {\n    // Later\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div>\n          <h1>Ошибка</h1>\n          <p>Попробуйте перезагрузить страницу</p>\n        </div>\n      );\n    }\n\n    return this.props.children; \n  }\n}","import React,{useState,Suspense,useEffect} from 'react';\nimport {find,findTranslators,getSeasonsSeries} from '../../services/rezka';\nimport './main-res.scss';\nimport Player from '../player';\nimport FilmPlayer from '../player/film-player';\nimport {TranslatorListLoading,SeasonListLoading} from '../loading';\nimport {Dropdown,DropdownButton} from 'react-bootstrap';\nimport ErrorBoundary from '../error-boundary';\n\n//const scrollToRef = (ref) => window.scrollTo(0, ref.offsetTop)\n\nconst MainView = ({selected,res,continueData})=>{\n    const search = find(selected.originalName);\n    return(\n        <ErrorBoundary>\n            <Suspense fallback={<TranslatorListLoading/>}>\n                <Search promise={search} res={res} info={selected} continueData={continueData}/>\n            </Suspense>\n        </ErrorBoundary>\n    )\n};\n\nconst Search = ({promise,res,info,continueData})=>{\n    const resource = promise.read();\n    const translators = findTranslators(resource);\n    return (\n        <Suspense fallback={<TranslatorListLoading/>}>\n            <Translators promise={translators} res={res} info={info} continueData={continueData}/>\n        </Suspense>\n    )\n};\n\nconst Translators = ({promise,res,info,continueData}) =>{\n    const[translator,setTranslator] = useState(null);\n    const handleTranslator = (e) => setTranslator(e);\n    const resource = promise.read();\n    const episodes = getSeasonsSeries(translator,resource);\n    useEffect(()=>{\n        if(continueData){\n            setTranslator(continueData.translator);\n        };\n    },[continueData])\n    if(resource.movie){\n        const movieData = continueData ? {\n            id: continueData.id,\n            resid: continueData.resid,\n            translator: 'Неизвестно',\n            res,\n            name: info.name,\n            poster: info.poster,\n            time: continueData.time\n        } :  {\n            id: info.id,\n            resid: resource.id,\n            translator: 'Неизвестно',\n            res,\n            name: info.name,\n            poster: info.poster,\n        };\n        return(\n            <div className=\"mt-4\">\n                <div className=\"brdt mb-4\"></div>\n                <div className=\"text-light\">\n                    <h4 className='text-opacity mb-4'>Фильм</h4>\n                    <FilmPlayer\n                    data={movieData}\n                    url={resource.translators[0].url} \n                    />\n                </div>\n            </div>\n        );\n    };\n    return (\n        <React.Fragment>\n        <div className=\"mt-4\">\n            <div className=\"brdt mb-4\"></div>\n            <div className=\"service-content text-light\">\n                <h4 className='text-opacity mb-4'>Переводы</h4>\n                <ListOfTranslators data={resource} handleTranslator={handleTranslator} continueData={continueData}/>\n            </div>\n        </div>\n        {translator ? (\n        <div className=\"mt-4\">\n            <div className=\"brdt mb-4\"></div>\n            <Suspense fallback={<SeasonListLoading/>}>\n                <ListOfEpisodes promise={episodes} translator={translator}\n                 id={resource.id} res={res} info={info}\n                 continueData={continueData}/>\n            </Suspense>\n        </div>\n        ) : false\n        }\n        </React.Fragment>\n    );\n};\n\nconst ListOfTranslators = ({data,handleTranslator,continueData}) =>{\n    const[active,setActive] = useState(null);\n    const handleActive = (e) => setActive(e.id);\n    useEffect(()=>{\n        if(continueData){\n            setActive(continueData.translator);\n        };\n    },[continueData])\n    return(\n        <ul className=\"list-group list-group-horizontal-sm ul-translators mb-4\">\n        {\n        data.translators.map((e)=>(\n            <li className={`list-group-item ${e.id === active ? 'trs-active' : ''}`} \n            key={e.id}>\n                <span onClick={()=>{handleActive(e);handleTranslator(e.id)}}>{e.name}</span>\n            </li>\n        ))\n        }\n        </ul>\n    );\n};\n\nconst ListOfEpisodes = ({promise,translator,id,res,info,continueData}) =>{\n    const resource = promise.read();\n    const[activeSeason,setActiveSeason] = useState();\n    const[activeEpisode,setActiveEpisode] = useState();\n    const[video,setVideo] = useState();\n    useEffect(()=>{\n        if(continueData){\n            setActiveSeason(continueData.season);\n            setActiveEpisode(continueData.episode);\n            setVideo({\n                resid: continueData.resid,\n                id: info.id,\n                translator,\n                season: continueData.season,\n                episode: continueData.episode,\n                res,\n                name: info.name,\n                poster: info.poster,\n                time: continueData.time\n            });\n        };\n    },[continueData, info.id, info.name, info.poster, translator, res])\n    const handleSeasonEpisode = (season,episode) =>{\n        setActiveSeason(season);\n        setActiveEpisode(episode);\n    };\n    const handleVideo = (resid,season,episode) => {\n        const data = {\n            resid,\n            id: info.id,\n            translator,\n            season,\n            episode,\n            res,\n            name: info.name,\n            poster: info.poster\n        };\n        setVideo(data);\n    };\n    return(\n        <React.Fragment>\n        <div className=\"series-content text-light mb-3\">\n            <h4 className='text-opacity mb-4'>Сезон</h4>\n            <div className='flex'>\n            {resource.map(e=>(\n                <DropdownButton drop='down' key={e.season} className={`mr-2 ${e.season === activeSeason ? 'sne-active' : ''}`}\n                id=\"dropdown-basic-button\" \n                title={`Сезон ${e.season}`}>\n                {e.episodes.map(eSecond=>(\n                        <Dropdown.Item key={eSecond} \n                        className={`text-light text-opacity ${eSecond === activeEpisode && e.season === activeSeason ? 'sne-active' : ''}`}\n                        onClick={()=>{\n                            handleVideo(id,e.season,eSecond);\n                            handleSeasonEpisode(e.season,eSecond)\n                        }}>\n                        {eSecond}</Dropdown.Item>\n                ))}\n                </DropdownButton>\n            ))}\n            </div>\n        </div>\n        {video ? <Player data={video}/> : false}\n        </React.Fragment>\n    );\n};\n\nexport default MainView;","import React,{Suspense,useState,useContext} from 'react';\nimport {MainView} from '../resources';\nimport * as movieService from '../../services/theMovieDB';\nimport { Link } from 'react-router-dom';\nimport './popup.scss';\nimport {AuthContext} from '../context/auth';\nimport {GetContinueTV,GetContinueMovie} from '../../services/firebase';\nimport {FullScreen} from '../loading';\n\nconst PopupMain = ({id,mediaType,location})=>{\n    const {currentUser} = useContext(AuthContext);\n    const ifContinue = location.state ? location.state.item : null;\n    const continueData = currentUser ? ( mediaType === 'tv' ? GetContinueTV(currentUser.uid,id) : GetContinueMovie(currentUser.uid,id) ) : null;\n    \n    return(\n        <Suspense fallback={false}>\n            <ContinueDataTest user={currentUser} promise={continueData} id={id} mediaType={mediaType} ifContinue={ifContinue}/>\n        </Suspense>\n    )\n};\n\nconst ContinueDataTest = ({id,mediaType,promise,ifContinue,user}) =>{\n    const resource = user ? (ifContinue ? ifContinue : promise.read()) : null;\n\n    if(mediaType === 'tv'){\n        const tv = movieService.getTV(id);\n        return(\n            <Suspense fallback={<FullScreen/>}>\n                <Popup promise={tv} continueData={resource}/>\n            </Suspense>\n        )\n    }else if(mediaType === 'movie'){\n        const movie = movieService.getMovie(id);\n        return(\n            <Suspense fallback={<FullScreen/>}>\n                <Popup promise={movie} continueData={resource}/>\n            </Suspense>\n        )\n    }\n}\n\nconst Popup = ({promise,continueData}) =>{\n    const resource = promise.read();\n    return(\n        //<React.Fragment>\n        <div className='local-bootstrap'>\n        <div className='backdrop'>\n            <img alt='' src={resource.backdropOriginal}/>\n        </div>\n        <div className='popup-info font-weight-light text-light shadow-sm'>\n            <Link className='back-span text-opacity p-4' to='/'><span>X</span></Link>\n            <div className='blur'></div>\n            <div className='backdrop-content p-4 text-opacity'>\n                <h1>{resource.name}</h1>\n                <p className='description'>{resource.description}</p>\n            </div>\n        </div>\n        <div className='resources p-4'>\n            <h4 className='text-light text-opacity mb-4'>Сервис</h4>\n            <Resources selected={resource} continueData={continueData}/>\n        </div>\n        </div>\n        //</React.Fragment>\n    );\n};\n\nconst Resources = ({selected,continueData}) =>{\n    const[res,setRes] = useState(continueData ? continueData.resource : '');\n    const handleRes = (value) => {\n        setRes(value);\n    };\n    const ress=[\n        {value: 'hdrezka', name: 'HD REZKA', id: 'rr0', className: 'hdrezka-service'},\n        {value: 'gidonline', name: 'GID ONLINE', id: 'rr1', className: 'gidonline-service'},\n        //{value: 'filmix', name: 'FILMIX', id: 'rr2', className: 'filmix-service'}\n    ];\n    const Switcher = () =>{\n        switch(res){\n        case 'hdrezka':\n            return <MainView res={res} selected={selected} continueData={continueData}/>;\n        case 'gidonline':\n            return false;\n        case 'filmix':\n            return false;\n        default:\n            return null;\n        };\n    };\n\n    return(\n        <React.Fragment>\n        <div className='flex'>\n        {\n            ress.map(e=>\n            <button className={`service shadow font-weight-bold text-light mr-3 ${e.className}`} \n            key={e.id} onClick={()=>handleRes(e.value)}>\n                <span className='service-p text-opacity'>{e.name}</span>\n            </button>\n            )\n        }\n        </div>\n        <Switcher/>\n        </React.Fragment>\n    );\n};\n\nexport default PopupMain;","import React,{useState,Suspense} from 'react';\nimport {searchMulti} from '../../services/theMovieDB';\nimport MainList from '../main/main-list';\nimport Nav from '../nav';\nimport {withRouter} from 'react-router-dom';\nimport './search.scss';\n\nconst Search = ({definput,history}) =>{\n    const [input,setInput] = useState(definput);\n    const handleInput = (e) => {\n        setInput(e.target.value);\n        if(input){\n            history.push(`/search/${e.target.value}`);\n        };\n    };\n\n    return(\n        <React.Fragment>\n            <Nav/>\n            <div className=\"container search\">\n                <MainSearchForm input={input} handle={handleInput}/>\n                <SearchList input={input}/>\n            </div>\n        </React.Fragment>\n    );\n};\n\nconst SearchList = ({input}) =>{\n    if(input !== undefined){\n        const search = searchMulti(input);\n        return (\n            <Suspense fallback={<h3>Loading</h3>}>\n                <MainList promise={search}/>\n            </Suspense>\n        )\n    }else return false;\n};\n\nconst MainSearchForm = ({input,handle}) =>{\n    return(\n        <input className=\"search__input\"\n            autoFocus\n            placeholder=\"Поиск\" \n            onChange={handle}\n            value={input}\n        />\n    );\n};\n\nexport default withRouter(Search);","import Search from './search';\n\nexport default Search;","import React from 'react';\nimport './app.scss';\nimport Main from '../main';\nimport Favourite from '../favourite';\nimport Watchlist from '../watchlist';\nimport { HashRouter as Router, Route } from 'react-router-dom';\n//BrowserRouter\nimport PopupMain from '../popup/popup';\nimport {AuthProvider} from '../context/auth';\nimport Search from '../search';\nimport {FavouriteProvider} from '../context/favourite';\n\n\nconst App = () =>{\n    //add history to history.back\n    return(\n        <AuthProvider>\n            <Router>\n            <React.Fragment>\n                <FavouriteProvider>\n                    <Route path='/' exact component={Main}/>\n                    <Route path='/favourite' exact component={Favourite}/>\n                    <Route path='/watchlist' exact component={Watchlist}/>\n                    <Route path='/search/' exact render={({history})=>{\n                    return <Search history={history}/>;\n                    }}/>\n                    <Route path='/search/:input' exact\n                    render={({match,history})=>{\n                        const { input } = match.params;\n                        return <Search definput={input} history={history}/>;\n                    }}/>\n                </FavouriteProvider>\n                <Route path='/tv/:id' exact\n                render={({match,location})=>{\n                    const { id } = match.params;\n                    return <PopupMain id={id} mediaType={'tv'} location={location}/>;\n                }}/>\n                <Route path='/movie/:id' exact\n                render={({match,location})=>{\n                    const { id } = match.params;\n                    return <PopupMain id={id} mediaType={'movie'} location={location}/>;\n                }}/>\n            </React.Fragment>\n            </Router>\n        </AuthProvider>\n    );\n};\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n\nReactDOM.render(<App />,document.getElementById('root'));"],"sourceRoot":""}