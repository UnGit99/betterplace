(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{180:function(e,t,a){e.exports=a(399)},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},212:function(e,t){},226:function(e,t){},228:function(e,t){},394:function(e,t,a){},398:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"useSearchMulti",(function(){return X})),a.d(n,"useFindPopular",(function(){return Z}));var r={};a.r(r),a.d(r,"addLatest",(function(){return $})),a.d(r,"getLatest",(function(){return ee}));var c=a(0),l=a.n(c),o=a(60),i=a.n(o),s=(a(185),a(7)),u=(a(186),l.a.createContext()),m=u.Provider,d=(u.Consumer,u),p=l.a.createContext(),f=p.Provider,h=(p.Consumer,p),v=function(){return l.a.createElement("div",{className:"spinner-border"},l.a.createElement("span",{className:"sr-only"},"Loading..."))},E=(a(187),function(e){var t=e.data,a=e.openPopup,n=Object(c.useContext)(h);return t.error&&console.log("".concat(t.error)),t.loading?g(l.a.createElement(v,null)):l.a.createElement("div",{className:"row mt-4"},t.data.map((function(e){return l.a.createElement("div",{key:e.id,className:"col-md-4"},l.a.createElement("div",{className:"card mb-4 shadow-sm"},l.a.createElement("img",{alt:"Poster",src:"".concat(e.poster),onClick:function(){a(e),n.addLatest(e)}})),l.a.createElement("p",null,e.name||e.title))})))}),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return l.a.createElement("div",null,l.a.createElement("div",{className:"container pt-3"},t,e))},b=function(e){var t=e.input,a=e.openPopup,n=Object(c.useContext)(d),r=n.useSearchMulti(t),o=n.useFindPopular([]),i=t.length>2,s=Object(c.useContext)(h).getLatest();return i?g(l.a.createElement(E,{data:r,openPopup:a})):l.a.createElement(l.a.Fragment,null,s.data.length>0&&g(l.a.createElement(E,{data:s,openPopup:a}),l.a.createElement("h1",null,"\u041d\u0435\u0434\u0430\u0432\u043d\u0438\u0435")),g(l.a.createElement(E,{data:o,openPopup:a}),l.a.createElement("h1",null,"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435")))},N=a(165),j=a(166),k=a(177),w=a(179),y=function(e){Object(w.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(j.a)(a,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?l.a.createElement("div",{className:"mt-4 text-light"},l.a.createElement("h1",null,"\u041e\u0448\u0438\u0431\u043a\u0430"),l.a.createElement("p",null,"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(c.Component),x=a(188),O="https://cors-anywhere.herokuapp.com/",_="https://rezka.ag/ajax/get_cdn_series/",C=function(e){var t,a="pending",n=e.then((function(e){a="success",t=e}),(function(e){a="error",t=e}));return{read:function(){switch(a){case"pending":throw n;case"error":throw t;default:return t}}}},S=(a(394),a(98),function(){return l.a.createElement("div",{className:"mt-4"},l.a.createElement("div",{className:"brdt mb-4"}),l.a.createElement("div",{className:"service-content text-light loading-main"},l.a.createElement("div",{className:"text-block-loading mb-4"}),l.a.createElement("ul",{className:"loading-ul list-group list-group-horizontal-sm mb-4"},l.a.createElement("li",{className:"list-group-item"}),l.a.createElement("li",{className:"list-group-item"}),l.a.createElement("li",{className:"list-group-item"}))))}),P=function(){return l.a.createElement("div",{className:"loading-main text-light mb-3"},l.a.createElement("div",{className:"mb-4 text-block-loading"}),l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"mr-2 dropdown loading-dropdown"},l.a.createElement("div",{className:"loading-div-season"})),l.a.createElement("div",{className:"mr-2 dropdown loading-dropdown"},l.a.createElement("div",{className:"loading-div-season"})),l.a.createElement("div",{className:"mr-2 dropdown loading-dropdown"},l.a.createElement("div",{className:"loading-div-season"}))))},I=function(){return l.a.createElement("div",{className:"loading-main loading-player"})},F=function(e){var t=e.promise,a=e.url,n=t.read();return l.a.createElement("div",{className:"playerjs"},l.a.createElement("iframe",{title:"playerjs",allowFullscreen:"true",className:"player fade-in",src:"playerjs.html?file="+(n.url||a),type:"text/html",allowtransparency:"true"}))},L=function(e){var t=e.data,a=function(e){var t=fetch("".concat(O).concat(_),{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"id="+e.id+"&translator_id="+e.translator+"&season="+e.season+"&episode="+e.episode+"&action=get_stream"}).then((function(e){return e.json()})).then((function(e){return e}));return C(t)}(t);return t.movie?l.a.createElement(F,{url:t.url}):l.a.createElement(c.Suspense,{fallback:l.a.createElement(I,null)},l.a.createElement(F,{promise:a}))},D=function(e){var t=e.url;return l.a.createElement("div",{className:"playerjs"},l.a.createElement("iframe",{title:"playerjs",allowFullscreen:"true",className:"player fade-in",src:"playerjs.html?file="+t,type:"text/html",allowtransparency:"true"}))},T=a(404),z=a(63),U=function(e){var t=function(e){var t=fetch("".concat("https://api.allorigins.win/get?url=").concat(encodeURIComponent(e))).then((function(e){return e.json()})).then((function(t){if(t.contents){var a=[],n="",r={translators:a,id:e.match(/\/\d+/g)[0].substr(1),movie:!1};t.contents.match(/(initCDNMoviesEvents\()([0-9]*), ([0-9]*)/g)?(n=t.contents.match(/(initCDNMoviesEvents\()([0-9]*), ([0-9]*)/g)[0].match(/\d+/g)[1],r.movie=!0):n=t.contents.match(/(initCDNSeriesEvents\()([0-9]*), ([0-9]*)/g)[0].match(/\d+/g)[1];var c=x.load(t.contents);return r.movie?a.push({id:n,name:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",url:t.contents.match(/sof.tv.initCDNMoviesEvents(.*),"default_quality"/g)[0].match(/\[(.*)",/g)[0].slice(0,-1).replace(/\\/g,"")}):c(".b-translator__item").length?c(".b-translator__item").each((function(e,t){a.push({id:c(t).attr("data-translator_id"),name:c(t).text()})})):a.push({id:n,name:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}),r}return t}));return C(t)}(e.promise.read());return l.a.createElement(c.Suspense,{fallback:l.a.createElement(S,null)},l.a.createElement(M,{promise:t}))},M=function(e){var t=e.promise,a=Object(c.useState)(null),n=Object(s.a)(a,2),r=n[0],o=n[1],i=t.read(),u=function(e,t){var a=fetch("".concat(O).concat(_),{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"id="+t.id+"&translator_id="+e+"&action=get_episodes"}).then((function(e){return e.json()})).then((function(e){var t=x.load(e.episodes.split("\\").join("")),a=x.load(e.seasons.split("\\").join("")),n=parseInt(a("li").attr("data-tab_id")),r=[];return a("li").each((function(e,t){r.push({season:parseInt(a(t).attr("data-tab_id")),episodes:[]})})),t(".b-simple_episode__item").each((function(e,a){var c=t(a).attr("data-episode_id");parseInt(c)<=1&&e>0?(n++,r.filter((function(e){return e.season===n}))[0].episodes.push(c)):r.filter((function(e){return e.season===n}))[0].episodes.push(c)})),r}));return C(a)}(r,i);return i.movie?l.a.createElement("div",{className:"mt-4"},l.a.createElement("div",{className:"brdt mb-4"}),l.a.createElement("div",{className:"text-light"},l.a.createElement("h4",{className:"text-opacity mb-4"},"\u0424\u0438\u043b\u044c\u043c"),l.a.createElement(D,{url:i.translators[0].url}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mt-4"},l.a.createElement("div",{className:"brdt mb-4"}),l.a.createElement("div",{className:"service-content text-light"},l.a.createElement("h4",{className:"text-opacity mb-4"},"\u041f\u0435\u0440\u0435\u0432\u043e\u0434\u044b"),l.a.createElement(R,{data:i,handleTranslator:function(e){return o(e)}}))),!!r&&l.a.createElement("div",{className:"mt-4"},l.a.createElement("div",{className:"brdt mb-4"}),l.a.createElement(c.Suspense,{fallback:l.a.createElement(P,null)},l.a.createElement(q,{promise:u,translator:r,id:i.id}))))},R=function(e){var t=e.data,a=e.handleTranslator,n=Object(c.useState)(null),r=Object(s.a)(n,2),o=r[0],i=r[1];return l.a.createElement("ul",{className:"list-group list-group-horizontal-sm ul-translators mb-4"},t.translators.map((function(e){return l.a.createElement("li",{className:"list-group-item ".concat(e.id===o?"trs-active":""),key:e.id},l.a.createElement("span",{onClick:function(){!function(e){i(e.id)}(e),a(e.id)}},e.name))})))},q=function(e){var t=e.promise,a=e.translator,n=e.id,r=t.read(),o=Object(c.useState)(),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(c.useState)(),p=Object(s.a)(d,2),f=p[0],h=p[1],v=Object(c.useState)(),E=Object(s.a)(v,2),g=E[0],b=E[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"series-content text-light mb-3"},l.a.createElement("h4",{className:"text-opacity mb-4"},"\u0421\u0435\u0437\u043e\u043d"),l.a.createElement("div",{className:"flex"},r.map((function(e){return l.a.createElement(T.a,{drop:"down",key:e.season,className:"mr-2 ".concat(e.season===u?"sne-active":""),id:"dropdown-basic-button",title:"\u0421\u0435\u0437\u043e\u043d ".concat(e.season)},e.episodes.map((function(t){return l.a.createElement(z.a.Item,{key:t,className:"text-light text-opacity ".concat(t===f&&e.season===u?"sne-active":""),onClick:function(){var r,c;!function(e,t,a,n){b({id:e,translator:t,season:a,episode:n})}(n,a,e.season,t),r=e.season,c=t,m(r),h(c)}},t)})))})))),!!g&&l.a.createElement(L,{data:g}))},J=function(e){var t=e.selected,a=function(e){var t=fetch("".concat("https://api.allorigins.win/get?url=").concat(encodeURIComponent("".concat("https://rezka.ag/index.php?do=search&subaction=search&q=").concat(encodeURIComponent(e))))).then((function(e){return e.json()})).then((function(e){return e.contents?x.load(e.contents)(".b-content__inline_item-cover > a").attr("href"):e}));return C(t)}(t.originalName||t.originalTitle);return l.a.createElement(y,null,l.a.createElement(c.Suspense,{fallback:l.a.createElement(S,null)},l.a.createElement(U,{promise:a})))},V=(a(398),function(e){var t=e.selected,a=e.handleVideo,n=Object(c.useState)(),r=Object(s.a)(n,2),o=r[0],i=r[1],u=function(){switch(o){case"hdrezka":return l.a.createElement(J,{res:o,selected:t,handleVideo:a});case"gidonline":case"filmix":return!1;default:return null}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"flex"},[{value:"hdrezka",name:"HD REZKA",id:"rr0",className:"hdrezka-service"},{value:"gidonline",name:"GID ONLINE",id:"rr1",className:"gidonline-service"}].map((function(e){return l.a.createElement("button",{className:"service shadow font-weight-bold text-light mr-3 ".concat(e.className),key:e.id,onClick:function(){return t=e.value,void i(t);var t}},l.a.createElement("span",{className:"service-p text-opacity"},e.name))}))),l.a.createElement(u,null))}),A=function(e){var t=e.selected,a=e.closePopup;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"backdrop"},l.a.createElement("img",{alt:"backdrop",src:t.backdropOrigianl})),l.a.createElement("div",{className:"popup-info font-weight-light text-light shadow-sm"},l.a.createElement("span",{className:"back-span text-opacity p-4",onClick:function(){return a()}},"X"),l.a.createElement("div",{className:"blur"}),l.a.createElement("div",{className:"backdrop-content p-4 text-opacity"},l.a.createElement("h1",null,t.name),l.a.createElement("p",{className:"description"},t.description))),l.a.createElement("div",{className:"resources p-4"},l.a.createElement("h4",{className:"text-light text-opacity mb-4"},"\u0421\u0435\u0440\u0432\u0438\u0441"),l.a.createElement(V,{selected:t})))},B=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),o=Object(s.a)(r,2),i=o[0],u=o[1];return i?l.a.createElement(A,{selected:i,closePopup:function(){return u(null)}}):l.a.createElement(y,null,l.a.createElement("div",{className:"p-5 bg-light"},l.a.createElement("div",{className:"input-group input-group_search"},l.a.createElement("input",{className:"form-control",placeholder:"\u041f\u043e\u0438\u0441\u043a",onChange:function(e){return n(e.target.value)},value:a}))),l.a.createElement(y,null,l.a.createElement(b,{input:a,openPopup:function(e){return u(e)}})))},G="?api_key=51d93e8a2a1a27a409fc155a8ece4e79",H="https://api.themoviedb.org/3/",K=function(e){var t=Object(c.useMemo)((function(){return{data:null,loading:!0,error:null}}),[]),a=Object(c.useState)(t),n=Object(s.a)(a,2),r=n[0],l=n[1];return Object(c.useEffect)((function(){l(t);var a=!1;return e().then((function(e){return!a&&l({data:W(e.results).map(Q).slice(0,3),loading:!1,error:null})})).catch((function(e){return!a&&l({data:null,loading:!1,error:e})})),function(){return a=!0}}),[e,t]),r},X=function(e){var t=Object(c.useCallback)((function(){return function(e){return fetch("".concat(H,"search/multi").concat(G).concat("&language=ru-RU","&query=").concat(e,"&page=1").concat("&include_adult=false")).then((function(e){return e.json()})).then((function(e){return e}))}(e)}),[e]);return K(t)},Z=function(){var e=Object(c.useCallback)((function(){return fetch("".concat(H,"trending/tv/week").concat(G).concat("&language=ru-RU")).then((function(e){return e.json()})).then((function(e){return e}))}),[]);return K(e)},Q=function(e){return{id:e.id,name:e.name,title:e.title,poster:"".concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path),backdrop:"".concat("https://image.tmdb.org/t/p/w1066_and_h600_bestv2").concat(e.backdrop_path),backdropOrigianl:"".concat("https://image.tmdb.org/t/p/original").concat(e.backdrop_path),description:e.overview,releaseDate:e.release_date,originalName:e.original_name,originalTitle:e.original_title}},W=function(e){return e.filter((function(e){return void 0===e.known_for_department}))},Y=a(178),$=function(e){var t=localStorage.getItem("Latest"),a=e.name||e.title;if(null!==t){var n="".concat(a,"[[[").concat(t);t=Object(Y.a)(new Set(n.split("[[["))).slice(0,3).join("[[["),localStorage.setItem("Latest",t)}else localStorage.setItem("Latest","".concat(a))},ee=function(){var e=localStorage.getItem("Latest"),t={data:[],loading:!0,error:!1};return null!==e?e.split("[[[",3).map((function(e){var a=X(e);return a.data?(e!==(a.data[0].title||a.data[0].name)?a.data.forEach((function(n,r){(e===n.title||n.name)&&t.data.push(a.data[r])})):t.data.push(a.data[0]),t.loading=!1):a.error&&(t.error=a.error,t.loading=!1),t})):t.loading=!1,t},te=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,{value:n},l.a.createElement(f,{value:r},l.a.createElement(B,null))))};i.a.render(l.a.createElement(te,null),document.getElementById("root"))},98:function(e,t,a){}},[[180,1,2]]]);
//# sourceMappingURL=main.8fbc2f14.chunk.js.map